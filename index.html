<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω –¥–ª—è —Å–≤–æ–∏—Ö - –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2c5aa0;
            --secondary: #e74c3c;
            --accent: #27ae60;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --gray: #6c757d;
            --border: #e9ecef;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: var(--bg-gradient);
            min-height: 100vh;
            scroll-behavior: smooth;
        }

        /* –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä */
        .constructor-toolbar {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 10000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .constructor-toggle {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .constructor-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(44, 90, 160, 0.4);
        }

        .constructor-toolbar.expanded {
            border-radius: 25px;
            padding: 15px;
        }

        .constructor-toolbar.expanded .constructor-toggle {
            margin-bottom: 15px;
        }

        #editButtons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            animation: fadeIn 0.3s ease;
        }

        .edit-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border);
            color: var(--dark);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .edit-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateX(-5px);
        }

        .constructor-mode .edit-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 9998;
            display: none;
        }

        .edit-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            z-index: 9999;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow: hidden;
            display: none;
        }

        .edit-panel-content {
            max-height: calc(80vh - 120px);
            overflow-y: auto;
            padding-right: 10px;
        }

        .edit-panel-content::-webkit-scrollbar {
            width: 6px;
        }

        .edit-panel-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .edit-panel-content::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
        }

        .color-picker {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .gradient-presets {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .gradient-preset {
            height: 40px;
            border-radius: 5px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .gradient-preset:hover {
            border-color: var(--primary);
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-success {
            background: var(--accent);
            color: white;
        }

        .btn-danger {
            background: var(--secondary);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }

        .file-upload {
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .file-upload:hover {
            border-color: var(--primary);
        }

        .file-upload i {
            font-size: 2rem;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .uploaded-image {
            max-width: 100%;
            max-height: 200px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
        }

        .categories-list {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding-right: 10px;
        }

        .categories-list::-webkit-scrollbar {
            width: 8px;
        }

        .categories-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .categories-list::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .categories-list::-webkit-scrollbar-thumb:hover {
            background: #1a3a6b;
        }

        .panel-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .category-editor-item {
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            background: #f8f9fa;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .category-header h4 {
            margin: 0;
            color: var(--dark);
        }

        .color-settings {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .background-preview {
            width: 100%;
            height: 120px;
            border-radius: 8px;
            margin-top: 10px;
            background-size: cover;
            background-position: center;
            border: 2px dashed var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
        }

        .background-preview.has-image {
            border: 2px solid var(--primary);
        }

        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-top {
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            color: white;
            padding: 8px 0;
            font-size: 14px;
        }

        .header-main {
            padding: 15px 0;
        }

        .header-main .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .search-bar {
            flex: 0 1 400px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid var(--border);
            border-radius: 30px;
            font-size: 14px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .search-bar button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .header-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--dark);
            font-size: 12px;
            transition: transform 0.3s ease;
        }

        .header-action:hover {
            transform: translateY(-2px);
        }

        .header-action i {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .cart-count {
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -5px;
            right: -5px;
            font-weight: bold;
        }

        .notification-count {
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -3px;
            right: -3px;
            font-weight: bold;
        }

        .hero {
            background: transparent;
            color: white;
            padding: 150px 0 80px;
            margin-top: 0;
            text-align: center;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.3);
            z-index: -1;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .categories-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 0 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: var(--dark);
            position: relative;
            font-weight: 700;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            margin: 15px auto;
            border-radius: 2px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .category-card {
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            text-decoration: none;
            color: white;
            transition: all 0.4s ease;
            border: none;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 100%);
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .category-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .category-card:hover::before {
            background: linear-gradient(135deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.2) 100%);
        }

        .category-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2));
            position: relative;
            z-index: 2;
        }

        .category-card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            position: relative;
            z-index: 2;
        }

        .products-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 40px 20px 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .filters {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 10px 20px;
            border: 2px solid var(--border);
            border-radius: 25px;
            background: white;
            font-size: 14px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg, var(--secondary), #c0392b);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
            z-index: 2;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            object-position: center;
            transition: transform 0.3s ease;
            cursor: pointer;
            background-color: #f8f9fa;
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-info {
            padding: 20px;
        }

        .product-category {
            color: var(--gray);
            font-size: 12px;
            text-transform: uppercase;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .product-name {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark);
            line-height: 1.3;
            cursor: pointer;
        }

        .product-name:hover {
            color: var(--primary);
        }

        .product-description-short {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 15px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .current-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .old-price {
            font-size: 1.1rem;
            color: var(--gray);
            text-decoration: line-through;
        }

        .discount {
            background: linear-gradient(135deg, var(--accent), #219a52);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .product-status {
            font-size: 0.8rem;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .status-in-stock {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
        }

        .status-pre-order {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            color: #856404;
        }

        .status-out-of-stock {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
        }

        .product-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .add-to-cart {
            flex: 1;
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-to-cart:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 90, 160, 0.4);
        }

        .add-to-cart:disabled {
            background: linear-gradient(135deg, #bdc3c7, #95a5a6);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .details-btn {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .details-btn:hover {
            background: var(--primary);
            color: white;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π */
        .giveaway-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 40px 20px 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .giveaway-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .giveaway-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.1);
        }

        .giveaway-content {
            position: relative;
            z-index: 2;
        }

        .giveaway-prize {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .giveaway-timer {
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .participants-count {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 20px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã */
        .wheel-container {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .wheel {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 30px;
            border-radius: 50%;
            background: #fff;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }

        .wheel-inner {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .wheel-segment:nth-child(1) {
            background: linear-gradient(135deg, #FF6B6B, #FF8E8E);
            transform: rotate(0deg) skewY(-30deg);
        }

        .wheel-segment:nth-child(2) {
            background: linear-gradient(135deg, #4ECDC4, #88D9D3);
            transform: rotate(60deg) skewY(-30deg);
        }

        .wheel-segment:nth-child(3) {
            background: linear-gradient(135deg, #FFD166, #FFE099);
            transform: rotate(120deg) skewY(-30deg);
        }

        .wheel-segment:nth-child(4) {
            background: linear-gradient(135deg, #06D6A0, #4CE4B5);
            transform: rotate(180deg) skewY(-30deg);
        }

        .wheel-segment:nth-child(5) {
            background: linear-gradient(135deg, #118AB2, #5BB0D4);
            transform: rotate(240deg) skewY(-30deg);
        }

        .wheel-segment:nth-child(6) {
            background: linear-gradient(135deg, #073B4C, #2A6B7E);
            transform: rotate(300deg) skewY(-30deg);
        }

        .wheel-segment span {
            position: absolute;
            right: 20px;
            top: 20px;
            transform: rotate(45deg);
            color: white;
            font-weight: bold;
            font-size: 14px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }

        .wheel-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 40px;
            background: var(--secondary);
            clip-path: polygon(50% 100%, 0 0, 100% 0);
            z-index: 20;
        }

        .spin-btn {
            background: linear-gradient(135deg, var(--accent), #219a52);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }

        .spin-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(39, 174, 96, 0.6);
        }

        .spin-btn:disabled {
            background: linear-gradient(135deg, #bdc3c7, #95a5a6);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .wheel-result {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            min-height: 30px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ */
        .profile-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 40px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .profile-info h2 {
            margin-bottom: 5px;
            color: var(--dark);
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .orders-list {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .order-item {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .order-item:last-child {
            border-bottom: none;
        }

        .order-status {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-new { background: #d4edda; color: #155724; }
        .status-processing { background: #fff3cd; color: #856404; }
        .status-delivered { background: #d1ecf1; color: #0c5460; }
        .status-cancelled { background: #f8d7da; color: #721c24; }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ */
        .reviews-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 40px 20px 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .review-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .review-author {
            font-weight: 600;
            color: var(--dark);
        }

        .review-date {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .review-rating {
            color: #ffc107;
            margin-bottom: 10px;
        }

        .review-text {
            line-height: 1.6;
            color: var(--dark);
        }

        .star-rating {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }

        .star {
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .star.active {
            color: #ffc107;
        }

        .star:hover {
            color: #ffc107;
        }

        footer {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 60px 0 20px;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
            color: white;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 12px;
        }

        .footer-column a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-column a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
            font-size: 0.9rem;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideIn 0.3s;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s ease;
        }

        .close:hover {
            color: var(--dark);
        }

        /* –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞ */
        .product-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .product-details-image {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .product-details-info h2 {
            margin-bottom: 15px;
            color: var(--dark);
        }

        .product-details-category {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .product-details-price {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .product-details-description {
            line-height: 1.6;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .product-details-meta {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .meta-label {
            font-size: 12px;
            color: var(--gray);
            text-transform: uppercase;
        }

        .meta-value {
            font-weight: 600;
            color: var(--dark);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .cart-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            background: linear-gradient(135deg, var(--primary), #1a3a6b);
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            transform: scale(1.1);
        }

        .cart-total {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--border);
            text-align: center;
        }

        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(135deg, var(--accent), #219a52);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 3000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: slideInRight 0.3s;
            font-weight: 600;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–µ–Ω–∏—è */
        .delivery-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .delivery-option {
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .delivery-option:hover {
            border-color: var(--primary);
        }

        .delivery-option.selected {
            border-color: var(--primary);
            background: rgba(44, 90, 160, 0.05);
        }

        .delivery-option i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .delivery-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        .notifications-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            display: flex;
            gap: 15px;
            align-items: start;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .notification-info {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--dark);
        }

        .notification-message {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .notification-time {
            color: var(--gray);
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .notification-unread {
            background: rgba(44, 90, 160, 0.05);
        }

        @media (max-width: 768px) {
            .header-main .container {
                flex-direction: column;
                gap: 15px;
            }

            .search-bar {
                flex: 1;
                width: 100%;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .products-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .categories-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            }

            .categories-section,
            .products-section {
                margin: 0 10px;
                padding: 40px 20px;
            }

            .color-settings {
                grid-template-columns: 1fr;
            }

            .panel-actions {
                flex-direction: column;
                align-items: stretch;
            }

            .product-details {
                grid-template-columns: 1fr;
            }

            .product-actions {
                flex-direction: column;
            }

            .delivery-options {
                grid-template-columns: 1fr;
            }

            .profile-stats {
                grid-template-columns: 1fr;
            }

            .wheel {
                width: 250px;
                height: 250px;
            }
        }

        /* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ */
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            object-position: center;
            transition: transform 0.3s ease;
            cursor: pointer;
            background-color: #f8f9fa;
        }

        /* –£–ª—É—á—à–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ */
        .category-card {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä -->
    <div class="constructor-toolbar">
        <div class="constructor-toggle" onclick="toggleConstructor()">
            <i class="fas fa-palette"></i>
        </div>
        <div id="editButtons" style="display: none;">
            <button class="edit-btn" onclick="editBackground()">–§–æ–Ω —Å–∞–π—Ç–∞</button>
            <button class="edit-btn" onclick="editHeader()">–®–∞–ø–∫–∞</button>
            <button class="edit-btn" onclick="editCategories()">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
            <button class="edit-btn" onclick="editProducts()">–¢–æ–≤–∞—Ä—ã</button>
            <button class="edit-btn" onclick="editOrders()">–ó–∞–∫–∞–∑—ã</button>
            <button class="edit-btn" onclick="editGiveaway()">–†–æ–∑—ã–≥—Ä—ã—à</button>
            <button class="edit-btn" onclick="saveDesign()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>

    <div class="edit-overlay" id="editOverlay"></div>

    <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ–Ω–∞ -->
    <div class="edit-panel" id="backgroundPanel">
        <div class="edit-panel-content">
            <h3>üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ —Å–∞–π—Ç–∞</h3>
            <div class="form-group">
                <label>–¢–∏–ø —Ñ–æ–Ω–∞:</label>
                <select class="form-control" id="bgType" onchange="toggleBgType()">
                    <option value="gradient">–ì—Ä–∞–¥–∏–µ–Ω—Ç</option>
                    <option value="solid">–û–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π</option>
                    <option value="image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</option>
                </select>
            </div>

            <div id="gradientSettings">
                <div class="form-group">
                    <label>–ì—Ä–∞–¥–∏–µ–Ω—Ç:</label>
                    <div class="gradient-presets">
                        <div class="gradient-preset" style="background: linear-gradient(135deg, #667eea, #764ba2)" onclick="setGradient('#667eea', '#764ba2')"></div>
                        <div class="gradient-preset" style="background: linear-gradient(135deg, #f093fb, #f5576c)" onclick="setGradient('#f093fb', '#f5576c')"></div>
                        <div class="gradient-preset" style="background: linear-gradient(135deg, #4facfe, #00f2fe)" onclick="setGradient('#4facfe', '#00f2fe')"></div>
                        <div class="gradient-preset" style="background: linear-gradient(135deg, #43e97b, #38f9d7)" onclick="setGradient('#43e97b', '#38f9d7')"></div>
                        <div class="gradient-preset" style="background: linear-gradient(135deg, #fa709a, #fee140)" onclick="setGradient('#fa709a', '#fee140')"></div>
                        <div class="gradient-preset" style="background: linear-gradient(135deg, #a8edea, #fed6e3)" onclick="setGradient('#a8edea', '#fed6e3')"></div>
                    </div>
                </div>
            </div>

            <div id="solidSettings" style="display: none;">
                <div class="form-group">
                    <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
                    <input type="color" class="color-picker" id="solidColor" value="#667eea">
                </div>
            </div>

            <div id="imageSettings" style="display: none;">
                <div class="form-group">
                    <label>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                    <div class="file-upload" onclick="document.getElementById('bgImageUpload').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
                        <input type="file" id="bgImageUpload" accept="image/*" style="display: none;" onchange="uploadBackgroundImage(this)">
                    </div>
                    <div class="background-preview" id="bgPreview"></div>
                </div>
            </div>
        </div>
        <div class="panel-actions">
            <button class="btn btn-success" onclick="applyBackground()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button class="btn btn-danger" onclick="closePanel()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
    <div class="edit-panel" id="categoriesPanel">
        <div class="edit-panel-content">
            <h3>üìÇ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</h3>
            <div id="categoriesList" class="categories-list">
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        <div class="panel-actions">
            <button class="btn btn-primary" onclick="addNewCategory()">
                <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
            </button>
            <div class="action-buttons">
                <button class="btn btn-success" onclick="saveCategories()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn btn-danger" onclick="closePanel()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–ø–∫–∏ -->
    <div class="edit-panel" id="headerPanel">
        <div class="edit-panel-content" id="headerPanelContent">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        <div class="panel-actions">
            <button class="btn btn-success" onclick="applyHeaderChanges()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button class="btn btn-danger" onclick="closePanel()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ -->
    <div class="edit-panel" id="productsPanel">
        <div class="edit-panel-content" id="productsPanelContent">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        <div class="panel-actions">
            <button class="btn btn-danger" onclick="closePanel()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ -->
    <div class="edit-panel" id="ordersPanel">
        <div class="edit-panel-content">
            <h3>üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h3>
            <div class="form-group">
                <button class="btn btn-primary" onclick="loadAllOrders()">
                    <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
                </button>
            </div>
            <div id="allOrdersList" class="categories-list">
                <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
            </div>
        </div>
        <div class="panel-actions">
            <button class="btn btn-danger" onclick="closePanel()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–º -->
    <div class="edit-panel" id="giveawayPanel">
        <div class="edit-panel-content">
            <h3>üéÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–º</h3>
            
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞:</label>
                <input type="text" class="form-control" id="giveawayName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞">
            </div>
            
            <div class="form-group">
                <label>–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑:</label>
                <input type="text" class="form-control" id="giveawayPrize" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –ø—Ä–∏–∑–∞">
            </div>
            
            <div class="form-group">
                <label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
                <input type="datetime-local" class="form-control" id="giveawayEndDate">
            </div>
            
            <div class="form-group">
                <label>–ü—Ä–∏–∑—ã –Ω–∞ –∫–æ–ª–µ—Å–µ:</label>
                <div id="wheelPrizesList">
                    <!-- –ü—Ä–∏–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <button class="btn btn-outline" onclick="addWheelPrize()" style="margin-top: 10px;">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–∑
                </button>
            </div>
            
            <div class="form-group">
                <label>–°—Ç–∞—Ç—É—Å —Ä–æ–∑—ã–≥—Ä—ã—à–∞:</label>
                <select class="form-control" id="giveawayStatus">
                    <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
                    <option value="paused">–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</option>
                    <option value="finished">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                </select>
            </div>
        </div>
        <div class="panel-actions">
            <button class="btn btn-success" onclick="saveGiveawaySettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn btn-danger" onclick="closePanel()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="header-top">
            <div class="container">
                <div class="header-contacts">
                    <i class="fas fa-phone"></i> +7 (923) 753-36-06
                    <span style="margin: 0 15px">|</span>
                    <i class="fas fa-envelope"></i> prodtorg.barnaul@gmail.com
                </div>
            </div>
        </div>
        <div class="header-main">
            <div class="container">
                <a href="#" class="logo">–î–õ–Ø –°–í–û–ò–•<span>.</span></a>
                
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
                    <button onclick="searchProducts()"><i class="fas fa-search"></i></button>
                </div>
                
                <div class="header-actions">
                    <a href="#" class="header-action" onclick="openProfile(); return false;">
                        <i class="far fa-user"></i>
                        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                    </a>
                    <a href="#" class="header-action" onclick="openNotifications(); return false;" style="position: relative;">
                        <i class="far fa-bell"></i>
                        <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                        <div class="notification-count" id="notificationCount">0</div>
                    </a>
                    <a href="#" class="header-action" style="position: relative;" onclick="openCart(); return false;">
                        <i class="fas fa-shopping-cart"></i>
                        <span>–ö–æ—Ä–∑–∏–Ω–∞</span>
                        <div class="cart-count" id="cartCount">0</div>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>–ú–∞–≥–∞–∑–∏–Ω –¥–ª—è —Å–≤–æ–∏—Ö</h1>
            <p>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞—à–µ–≥–æ –∫—Ä—É–≥–∞</p>
        </div>
    </section>

    <!-- –†–æ–∑—ã–≥—Ä—ã—à–∏ -->
    <section class="giveaway-section">
        <div class="container">
            <h2 class="section-title">üéÅ –ê–ö–¢–£–ê–õ–¨–ù–´–ï –†–û–ó–´–ì–†–´–®–ò</h2>
            
            <div class="giveaway-card">
                <div class="giveaway-content">
                    <div class="giveaway-prize" id="currentGiveawayPrize">–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑: iPhone 15 Pro</div>
                    <div class="giveaway-timer" id="giveawayTimer">–î–æ –∫–æ–Ω—Ü–∞: 5 –¥–Ω–µ–π 12:30:15</div>
                    <div class="participants-count" id="participantsCount">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: 47</div>
                </div>
            </div>
            
            <!-- –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã -->
            <div class="wheel-container">
                <div class="wheel" id="giveawayWheel">
                    <div class="wheel-inner">
                        <div class="wheel-segment" data-segment="1">
                            <span>–ü—Ä–∏–∑ 1</span>
                        </div>
                        <div class="wheel-segment" data-segment="2">
                            <span>–ü—Ä–∏–∑ 2</span>
                        </div>
                        <div class="wheel-segment" data-segment="3">
                            <span>–ü—Ä–∏–∑ 3</span>
                        </div>
                        <div class="wheel-segment" data-segment="4">
                            <span>–ü—Ä–∏–∑ 4</span>
                        </div>
                        <div class="wheel-segment" data-segment="5">
                            <span>–ü—Ä–∏–∑ 5</span>
                        </div>
                        <div class="wheel-segment" data-segment="6">
                            <span>–ü—Ä–∏–∑ 6</span>
                        </div>
                    </div>
                    <div class="wheel-center"></div>
                    <div class="wheel-pointer"></div>
                </div>
                <button class="spin-btn" id="spinButton" onclick="spinWheel()">–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ</button>
                <div class="wheel-result" id="wheelResult"></div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <h2 class="section-title">–ö–ê–¢–ï–ì–û–†–ò–ò –¢–û–í–ê–†–û–í</h2>
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categories will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="productsSection">
        <div class="container">
            <div class="products-header">
                <h2 class="section-title" style="text-align: left; margin: 0;">–ü–û–ü–£–õ–Ø–†–ù–´–ï –¢–û–í–ê–†–´</h2>
                <div class="filters">
                    <select class="filter-select" id="categoryFilter" onchange="filterProducts()">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    </select>
                    <select class="filter-select" id="priceFilter" onchange="filterProducts()">
                        <option value="">–õ—é–±–∞—è —Ü–µ–Ω–∞</option>
                        <option value="0-500">–î–æ 500 —Ä—É–±.</option>
                        <option value="500-1000">500-1000 —Ä—É–±.</option>
                        <option value="1000-5000">1000-5000 —Ä—É–±.</option>
                        <option value="5000-999999">–û—Ç 5000 —Ä—É–±.</option>
                    </select>
                    <select class="filter-select" id="sortBy" onchange="sortProducts()">
                        <option value="name">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</option>
                        <option value="price_asc">–¶–µ–Ω–∞ (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é)</option>
                        <option value="price_desc">–¶–µ–Ω–∞ (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)</option>
                        <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                    </select>
                </div>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- –û—Ç–∑—ã–≤—ã -->
    <section class="reviews-section">
        <div class="container">
            <h2 class="section-title">üí¨ –û–¢–ó–´–í–´ –ü–û–ö–£–ü–ê–¢–ï–õ–ï–ô</h2>
            <div id="reviewsList">
                <!-- –û—Ç–∑—ã–≤—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="openReviewModal()">
                    <i class="fas fa-pen"></i> –ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>–û –º–∞–≥–∞–∑–∏–Ω–µ</h3>
                    <p style="color: #bdc3c7; line-height: 1.6;">
                        –ó–∞–∫—Ä—ã—Ç—ã–π –º–∞–≥–∞–∑–∏–Ω –¥–ª—è –¥—Ä—É–∑–µ–π –∏ –±–ª–∏–∑–∫–∏—Ö. 
                        –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã, —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏ –ø—Ä–∏–∑–æ–≤.
                    </p>
                </div>
                <div class="footer-column">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i> +7 (923) 753-36-06</li>
                        <li><i class="fas fa-envelope"></i> prodtorg.barnaul@gmail.com</li>
                        <li><i class="fas fa-map-marker-alt"></i> –≥. –ë–∞—Ä–Ω–∞—É–ª, —É–ª. –û—Å—Ç—Ä–æ–≤—Å–∫–æ–≥–æ, 10</li>
                        <li><i class="fas fa-clock"></i> –ü–Ω-–í—Å: 9:00-21:00</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    <ul>
                        <li><a href="#">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a></li>
                        <li><a href="#">–°–∞–º–æ–≤—ã–≤–æ–∑</a></li>
                        <li><a href="#">–£—Å–ª–æ–≤–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π</a></li>
                        <li><a href="#">–ü—Ä–∞–≤–∏–ª–∞ –º–∞–≥–∞–∑–∏–Ω–∞</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 –ú–∞–≥–∞–∑–∏–Ω "–î–ª—è —Å–≤–æ–∏—Ö". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫</h2>
            <div id="cartItems"></div>
            <div class="cart-total">
                <h3>–û–±—â–∞—è —Å—É–º–º–∞: <span id="totalAmount">0</span> —Ä—É–±.</h3>
                <button id="checkoutBtn" class="add-to-cart" onclick="openOrderForm()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
            </div>
        </div>
    </div>

    <!-- Order Modal -->
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
            
            <div class="delivery-options">
                <div class="delivery-option" onclick="selectDeliveryOption('pickup')">
                    <i class="fas fa-store"></i>
                    <h4>–°–∞–º–æ–≤—ã–≤–æ–∑</h4>
                    <p>–ó–∞–±—Ä–∞—Ç—å –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞</p>
                    <div class="delivery-info">
                        <strong>–ê–¥—Ä–µ—Å:</strong> –≥. –ë–∞—Ä–Ω–∞—É–ª, —É–ª. –û—Å—Ç—Ä–æ–≤—Å–∫–æ–≥–æ, 10<br>
                        <strong>–í—Ä–µ–º—è:</strong> –ü–Ω-–í—Å: 9:00-21:00
                    </div>
                </div>
                <div class="delivery-option" onclick="selectDeliveryOption('delivery')">
                    <i class="fas fa-truck"></i>
                    <h4>–î–æ—Å—Ç–∞–≤–∫–∞</h4>
                    <p>–ö—É—Ä—å–µ—Ä–æ–º –¥–æ –¥–≤–µ—Ä–∏</p>
                    <div class="delivery-info">
                        <strong>–°—Ç–æ–∏–º–æ—Å—Ç—å:</strong> 200 —Ä—É–±.<br>
                        <strong>–°—Ä–æ–∫–∏:</strong> 3-5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π<br>
                        <strong>–î–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏:</strong> –ü–Ω –∏ –ß—Ç
                    </div>
                </div>
            </div>

            <form id="orderForm">
                <input type="hidden" id="deliveryType" name="deliveryType" value="">
                
                <div class="form-group">
                    <label>–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" name="name" class="form-control" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required>
                </div>
                
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                    <input type="tel" name="phone" class="form-control" placeholder="+7 (999) 123-45-67" required>
                </div>
                
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" name="email" class="form-control" placeholder="ivan@example.com" required>
                </div>
                
                <div id="deliveryAddressField" class="form-group" style="display: none;">
                    <label>–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <textarea name="address" class="form-control" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–∫–∞–∑—É:</label>
                    <textarea name="comments" class="form-control" placeholder="–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∫ –∑–∞–∫–∞–∑—É" rows="2"></textarea>
                </div>
                
                <div class="delivery-info" style="background: #e8f4fd; border-left: 4px solid var(--primary);">
                    <strong>–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br>
                    ‚Ä¢ –ó–∞–∫–∞–∑—ã –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º –∏ —á–µ—Ç–≤–µ—Ä–≥–∞–º<br>
                    ‚Ä¢ –¢–æ–≤–∞—Ä—ã –ø–æ–¥ –∑–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 3-5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π<br>
                    ‚Ä¢ –°–∞–º–æ–≤—ã–≤–æ–∑ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞
                </div>
                
                <button type="submit" class="add-to-cart" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
            </form>
        </div>
    </div>

    <!-- Product Details Modal -->
    <div id="productDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="productDetailsContent">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="profile-section">
                <div class="profile-header">
                    <div class="profile-avatar" id="userAvatar">–ì</div>
                    <div class="profile-info">
                        <h2 id="userName">–ì–æ—Å—Ç—å</h2>
                        <p id="userEmail">guest@example.com</p>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalOrders">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="completedOrders">0</div>
                        <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalSpent">0 ‚ÇΩ</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="giveawayParticipations">0</div>
                        <div class="stat-label">–£—á–∞—Å—Ç–∏–π –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–∞—Ö</div>
                    </div>
                </div>

                <h3 style="margin-bottom: 20px;">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h3>
                <div class="orders-list" id="userOrdersList">
                    <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Modal -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
            <div class="notifications-panel" id="notificationsList">
                <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤</h2>
            <form id="reviewForm">
                <div class="form-group">
                    <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä:</label>
                    <select class="form-control" id="reviewProduct" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä --</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞:</label>
                    <div class="star-rating" id="starRating">
                        <span class="star" data-rating="1">‚òÖ</span>
                        <span class="star" data-rating="2">‚òÖ</span>
                        <span class="star" data-rating="3">‚òÖ</span>
                        <span class="star" data-rating="4">‚òÖ</span>
                        <span class="star" data-rating="5">‚òÖ</span>
                    </div>
                    <input type="hidden" id="reviewRating" name="rating" required>
                </div>
                
                <div class="form-group">
                    <label>–í–∞—à –æ—Ç–∑—ã–≤:</label>
                    <textarea class="form-control" id="reviewText" name="text" rows="5" 
                              placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–∞—à–∏–º –º–Ω–µ–Ω–∏–µ–º –æ —Ç–æ–≤–∞—Ä–µ..." required></textarea>
                </div>
                
                <button type="submit" class="add-to-cart" style="width: 100%;">
                    <i class="fas fa-paper-plane"></i> –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ—Ç–∑—ã–≤
                </button>
            </form>
        </div>
    </div>

    <script>
    // ==================== –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –¢–û–í–ê–†–û–í ====================
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä forceUpdate –≤ URL
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('forceUpdate') === 'true') {
        console.log('–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤...');
        localStorage.removeItem('products');
        localStorage.removeItem('cart');
        localStorage.removeItem('categoriesData');
        localStorage.removeItem('siteDesign');
    }
        // ==================== –ö–û–ù–°–¢–†–£–ö–¢–û–† ====================
        let constructorMode = false;
        let categoriesData = JSON.parse(localStorage.getItem('categoriesData')) || [
            { 
                name: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è', 
                icon: 'üß¥', 
                color1: '#667eea', 
                color2: '#764ba2',
                backgroundType: 'gradient',
                backgroundImage: ''
            },
            { 
                name: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', 
                icon: 'üì±', 
                color1: '#f093fb', 
                color2: '#f5576c',
                backgroundType: 'gradient',
                backgroundImage: ''
            },
            { 
                name: '–û–¥–µ–∂–¥–∞', 
                icon: 'üëï', 
                color1: '#4facfe', 
                color2: '#00f2fe',
                backgroundType: 'gradient',
                backgroundImage: ''
            },
            { 
                name: '–ö–Ω–∏–≥–∏', 
                icon: 'üìö', 
                color1: '#43e97b', 
                color2: '#38f9d7',
                backgroundType: 'gradient',
                backgroundImage: ''
            },
            { 
                name: '–°–ø–æ—Ä—Ç', 
                icon: '‚öΩ', 
                color1: '#fa709a', 
                color2: '#fee140',
                backgroundType: 'gradient',
                backgroundImage: ''
            },
            { 
                name: '–î–ª—è –¥–æ–º–∞', 
                icon: 'üè†', 
                color1: '#a8edea', 
                color2: '#fed6e3',
                backgroundType: 'gradient',
                backgroundImage: ''
            }
        ];

        let siteDesign = JSON.parse(localStorage.getItem('siteDesign')) || {
            background: {
                type: 'gradient',
                gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                solidColor: '#667eea',
                image: ''
            }
        };

        // ==================== –û–°–ù–û–í–ù–û–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ ====================
        let products = JSON.parse(localStorage.getItem('products')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let filteredProducts = [];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || {
            id: 1,
            name: '–ì–æ—Å—Ç—å',
            email: 'guest@example.com',
            avatar: '–ì',
            orders: [],
            reviews: [],
            giveawayParticipations: []
        };

        let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
        let notifications = JSON.parse(localStorage.getItem('notifications')) || [];
        let giveaways = JSON.parse(localStorage.getItem('giveaways')) || [
            {
                id: 1,
                name: '–ì–ª–∞–≤–Ω—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à –º–µ—Å—è—Ü–∞',
                prize: 'iPhone 15 Pro',
                endDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),
                participants: 47,
                status: 'active',
                wheelPrizes: [
                    '–°–∫–∏–¥–∫–∞ 10%',
                    '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞',
                    '–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –º–∞–≥–∞–∑–∏–Ω–∞',
                    '–°–∫–∏–¥–∫–∞ 20%',
                    '–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç 500 —Ä—É–±.',
                    '–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑'
                ]
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadDesign();
            loadCategories();
            loadProducts();
            loadReviews();
            loadGiveaways();
            initCart();
            updateCategoryFilter();
            updateNotificationCount();
            startGiveawayTimer();
            applyHeaderSettings();
            updateWheelSegments();
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
            if (products.length === 0) {
                initializeTestProducts();
            }
        });

        // ==================== –§–£–ù–ö–¶–ò–ò –ö–û–ù–°–¢–†–£–ö–¢–û–†–ê ====================

        function toggleConstructor() {
            const toolbar = document.querySelector('.constructor-toolbar');
            const editButtons = document.getElementById('editButtons');
            
            if (toolbar.classList.contains('expanded')) {
                toolbar.classList.remove('expanded');
                editButtons.style.display = 'none';
            } else {
                toolbar.classList.add('expanded');
                editButtons.style.display = 'flex';
            }
        }

        function editBackground() {
            document.getElementById('editOverlay').style.display = 'block';
            document.getElementById('backgroundPanel').style.display = 'block';
        }

        function editHeader() {
            document.getElementById('editOverlay').style.display = 'block';
            document.getElementById('headerPanel').style.display = 'block';
            loadHeaderEditor();
        }

        function editCategories() {
            document.getElementById('editOverlay').style.display = 'block';
            document.getElementById('categoriesPanel').style.display = 'block';
            loadCategoriesEditor();
        }

        function editProducts() {
            document.getElementById('editOverlay').style.display = 'block';
            document.getElementById('productsPanel').style.display = 'block';
            loadProductsEditor();
        }

        function editOrders() {
            document.getElementById('editOverlay').style.display = 'block';
            document.getElementById('ordersPanel').style.display = 'block';
            loadAllOrders();
        }

        function editGiveaway() {
            document.getElementById('editOverlay').style.display = 'block';
            document.getElementById('giveawayPanel').style.display = 'block';
            loadGiveawayEditor();
        }

        function closePanel() {
            document.querySelectorAll('.edit-panel').forEach(panel => {
                panel.style.display = 'none';
            });
            document.getElementById('editOverlay').style.display = 'none';
        }

        function saveDesign() {
            localStorage.setItem('siteDesign', JSON.stringify(siteDesign));
            localStorage.setItem('categoriesData', JSON.stringify(categoriesData));
            showNotification('–î–∏–∑–∞–π–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
        }

        // ==================== –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –§–û–ù–ê ====================

        function toggleBgType() {
            const type = document.getElementById('bgType').value;
            document.getElementById('gradientSettings').style.display = type === 'gradient' ? 'block' : 'none';
            document.getElementById('solidSettings').style.display = type === 'solid' ? 'block' : 'none';
            document.getElementById('imageSettings').style.display = type === 'image' ? 'block' : 'none';
        }

        function setGradient(color1, color2) {
            siteDesign.background.gradient = `linear-gradient(135deg, ${color1}, ${color2})`;
        }

        function uploadBackgroundImage(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    siteDesign.background.image = e.target.result;
                    document.getElementById('bgPreview').style.backgroundImage = `url(${e.target.result})`;
                    document.getElementById('bgPreview').classList.add('has-image');
                    document.getElementById('bgPreview').innerHTML = '';
                }
                reader.readAsDataURL(file);
            }
        }

        function applyBackground() {
            const type = document.getElementById('bgType').value;
            
            if (type === 'gradient') {
                document.body.style.background = siteDesign.background.gradient;
            } else if (type === 'solid') {
                const color = document.getElementById('solidColor').value;
                siteDesign.background.solidColor = color;
                document.body.style.background = color;
            } else if (type === 'image') {
                document.body.style.backgroundImage = `url(${siteDesign.background.image})`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundPosition = 'center';
            }
            
            siteDesign.background.type = type;
            closePanel();
            showNotification('–§–æ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω!');
        }

        function loadDesign() {
            if (siteDesign.background.type === 'gradient') {
                document.body.style.background = siteDesign.background.gradient;
            } else if (siteDesign.background.type === 'solid') {
                document.body.style.background = siteDesign.background.solidColor;
            } else if (siteDesign.background.type === 'image') {
                document.body.style.backgroundImage = `url(${siteDesign.background.image})`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundPosition = 'center';
            }
        }

        // ==================== –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –®–ê–ü–ö–ò ====================

        function loadHeaderEditor() {
            const settings = JSON.parse(localStorage.getItem('headerSettings')) || {
                name: '–î–õ–Ø –°–í–û–ò–•',
                phone: '+7 (923) 753-36-06',
                email: 'prodtorg.barnaul@gmail.com',
                color: '#2c5aa0',
                showSearch: true,
                showProfile: true,
                showNotifications: true,
                showCart: true
            };

            const panelContent = document.getElementById('headerPanelContent');
            panelContent.innerHTML = `
                <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–ø–∫–∏ —Å–∞–π—Ç–∞</h3>
                
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞:</label>
                    <input type="text" class="form-control" id="shopName" value="${settings.name}" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞">
                </div>

                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                    <input type="text" class="form-control" id="shopPhone" value="${settings.phone}" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω">
                </div>

                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" class="form-control" id="shopEmail" value="${settings.email}" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ email">
                </div>

                <div class="form-group">
                    <label>–¶–≤–µ—Ç —à–∞–ø–∫–∏:</label>
                    <input type="color" class="color-picker" id="headerColor" value="${settings.color}">
                </div>

                <div class="form-group">
                    <label>–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã:</label>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="showSearch" ${settings.showSearch ? 'checked' : ''}> –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="showProfile" ${settings.showProfile ? 'checked' : ''}> –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="showNotifications" ${settings.showNotifications ? 'checked' : ''}> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="showCart" ${settings.showCart ? 'checked' : ''}> –ö–æ—Ä–∑–∏–Ω–∞
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —à–∞–ø–∫–∏:</label>
                    <div style="background: white; border-radius: 10px; padding: 20px; border: 2px solid var(--border);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <div style="font-size: 24px; font-weight: bold; color: ${settings.color};" id="headerPreviewName">${settings.name}</div>
                            <div style="display: flex; gap: 15px; align-items: center;">
                                <div id="headerPreviewSearch" style="display: ${settings.showSearch ? 'block' : 'none'};">
                                    <div style="position: relative;">
                                        <input type="text" placeholder="–ü–æ–∏—Å–∫..." style="padding: 8px 15px; border: 1px solid #ddd; border-radius: 20px; width: 200px;">
                                    </div>
                                </div>
                                <div style="display: flex; gap: 10px;">
                                    <div id="headerPreviewProfile" style="display: ${settings.showProfile ? 'block' : 'none'};">üë§</div>
                                    <div id="headerPreviewNotifications" style="display: ${settings.showNotifications ? 'block' : 'none'};">üîî</div>
                                    <div id="headerPreviewCart" style="display: ${settings.showCart ? 'block' : 'none'};">üõí</div>
                                </div>
                            </div>
                        </div>
                        <div style="font-size: 12px; color: #666;" id="headerPreviewContacts">
                            üìû ${settings.phone} | ‚úâÔ∏è ${settings.email}
                        </div>
                    </div>
                </div>
            `;

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
            document.getElementById('shopName').addEventListener('input', updateHeaderPreview);
            document.getElementById('shopPhone').addEventListener('input', updateHeaderPreview);
            document.getElementById('shopEmail').addEventListener('input', updateHeaderPreview);
            document.getElementById('headerColor').addEventListener('input', updateHeaderPreview);
            document.getElementById('showSearch').addEventListener('change', updateHeaderPreview);
            document.getElementById('showProfile').addEventListener('change', updateHeaderPreview);
            document.getElementById('showNotifications').addEventListener('change', updateHeaderPreview);
            document.getElementById('showCart').addEventListener('change', updateHeaderPreview);
        }

        function updateHeaderPreview() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ
            document.getElementById('headerPreviewName').textContent = document.getElementById('shopName').value;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç–∞–∫—Ç—ã
            const phone = document.getElementById('shopPhone').value;
            const email = document.getElementById('shopEmail').value;
            document.getElementById('headerPreviewContacts').innerHTML = 
                `üìû ${phone} | ‚úâÔ∏è ${email}`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç
            const color = document.getElementById('headerColor').value;
            document.getElementById('headerPreviewName').style.color = color;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            document.getElementById('headerPreviewSearch').style.display = 
                document.getElementById('showSearch').checked ? 'block' : 'none';
            document.getElementById('headerPreviewProfile').style.display = 
                document.getElementById('showProfile').checked ? 'block' : 'none';
            document.getElementById('headerPreviewNotifications').style.display = 
                document.getElementById('showNotifications').checked ? 'block' : 'none';
            document.getElementById('headerPreviewCart').style.display = 
                document.getElementById('showCart').checked ? 'block' : 'none';
        }

        function applyHeaderChanges() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            const headerSettings = {
                name: document.getElementById('shopName').value,
                phone: document.getElementById('shopPhone').value,
                email: document.getElementById('shopEmail').value,
                color: document.getElementById('headerColor').value,
                showSearch: document.getElementById('showSearch').checked,
                showProfile: document.getElementById('showProfile').checked,
                showNotifications: document.getElementById('showNotifications').checked,
                showCart: document.getElementById('showCart').checked
            };
            
            localStorage.setItem('headerSettings', JSON.stringify(headerSettings));
            applyHeaderSettings();
            closePanel();
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        }

        function applyHeaderSettings() {
            const settings = JSON.parse(localStorage.getItem('headerSettings')) || {
                name: '–î–õ–Ø –°–í–û–ò–•',
                phone: '+7 (923) 753-36-06',
                email: 'prodtorg.barnaul@gmail.com',
                color: '#2c5aa0',
                showSearch: true,
                showProfile: true,
                showNotifications: true,
                showCart: true
            };

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ —Ä–µ–∞–ª—å–Ω–æ–π —à–∞–ø–∫–µ
            document.querySelector('.logo').textContent = settings.name + '.';
            document.querySelector('.header-contacts').innerHTML = 
                `<i class="fas fa-phone"></i> ${settings.phone} <span style="margin: 0 15px">|</span> <i class="fas fa-envelope"></i> ${settings.email}`;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç
            document.documentElement.style.setProperty('--primary', settings.color);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
            document.querySelector('.search-bar').style.display = settings.showSearch ? 'block' : 'none';
            document.querySelector('.header-action[onclick*="openProfile"]').style.display = settings.showProfile ? 'flex' : 'none';
            document.querySelector('.header-action[onclick*="openNotifications"]').style.display = settings.showNotifications ? 'flex' : 'none';
            document.querySelector('.header-action[onclick*="openCart"]').style.display = settings.showCart ? 'flex' : 'none';
        }

        // ==================== –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –ö–ê–¢–ï–ì–û–†–ò–ô ====================

        function loadCategoriesEditor() {
            const categoriesList = document.getElementById('categoriesList');
            categoriesList.innerHTML = categoriesData.map((category, index) => `
                <div class="category-editor-item">
                    <div class="category-header">
                        <h4>${category.name}</h4>
                        <div>
                            <button class="btn btn-sm btn-outline" onclick="updateCategory(${index})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="removeCategory(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>
                        <input type="text" class="form-control" id="catName${index}" value="${category.name}">
                    </div>
                    <div class="form-group">
                        <label>–ò–∫–æ–Ω–∫–∞:</label>
                        <input type="text" class="form-control" id="catIcon${index}" value="${category.icon}" placeholder="üß¥">
                    </div>
                    <div class="form-group">
                        <label>–¢–∏–ø —Ñ–æ–Ω–∞:</label>
                        <select class="form-control" id="catBgType${index}" onchange="updateCategoryBackgroundType(${index})">
                            <option value="gradient" ${category.backgroundType === 'gradient' ? 'selected' : ''}>–ì—Ä–∞–¥–∏–µ–Ω—Ç</option>
                            <option value="solid" ${category.backgroundType === 'solid' ? 'selected' : ''}>–û–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π</option>
                            <option value="image" ${category.backgroundType === 'image' ? 'selected' : ''}>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</option>
                        </select>
                    </div>
                    <div class="color-settings" id="colorSettings${index}" style="display: ${category.backgroundType === 'gradient' ? 'grid' : 'none'}">
                        <div class="form-group">
                            <label>–¶–≤–µ—Ç 1:</label>
                            <input type="color" class="color-picker" id="catColor1${index}" value="${category.color1}">
                        </div>
                        <div class="form-group">
                            <label>–¶–≤–µ—Ç 2:</label>
                            <input type="color" class="color-picker" id="catColor2${index}" value="${category.color2}">
                        </div>
                    </div>
                    <div id="imageSettings${index}" style="display: ${category.backgroundType === 'image' ? 'block' : 'none'}">
                        <div class="form-group">
                            <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                            <div class="file-upload" onclick="document.getElementById('catImageUpload${index}').click()">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
                                <input type="file" id="catImageUpload${index}" accept="image/*" style="display: none;" onchange="uploadCategoryImage(this, ${index})">
                            </div>
                            <div class="background-preview ${category.backgroundImage ? 'has-image' : ''}" 
                                 id="catPreview${index}" 
                                 style="${category.backgroundImage ? `background-image: url(${category.backgroundImage})` : ''}">
                                ${!category.backgroundImage ? '–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä' : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateCategoryBackgroundType(index) {
            const type = document.getElementById(`catBgType${index}`).value;
            document.getElementById(`colorSettings${index}`).style.display = type === 'gradient' ? 'grid' : 'none';
            document.getElementById(`imageSettings${index}`).style.display = type === 'image' ? 'block' : 'none';
        }

        function uploadCategoryImage(input, index) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    categoriesData[index].backgroundImage = e.target.result;
                    const preview = document.getElementById(`catPreview${index}`);
                    preview.style.backgroundImage = `url(${e.target.result})`;
                    preview.style.backgroundSize = 'cover';
                    preview.style.backgroundPosition = 'center';
                    preview.classList.add('has-image');
                    preview.innerHTML = '';
                    
                    // –°—Ä–∞–∑—É –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                    loadCategories();
                }
                reader.readAsDataURL(file);
            }
        }

        function updateCategory(index) {
            categoriesData[index] = {
                ...categoriesData[index],
                name: document.getElementById(`catName${index}`).value,
                icon: document.getElementById(`catIcon${index}`).value,
                backgroundType: document.getElementById(`catBgType${index}`).value,
                color1: document.getElementById(`catColor1${index}`).value,
                color2: document.getElementById(`catColor2${index}`).value
            };
            showNotification('–ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞!');
        }

        function removeCategory(index) {
            if (confirm(`–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "${categoriesData[index].name}"?`)) {
                categoriesData.splice(index, 1);
                loadCategoriesEditor();
                showNotification('–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞!');
            }
        }

        function addNewCategory() {
            const newCategory = {
                name: '–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è',
                icon: '‚≠ê',
                color1: '#667eea',
                color2: '#764ba2',
                backgroundType: 'gradient',
                backgroundImage: ''
            };
            categoriesData.push(newCategory);
            loadCategoriesEditor();
            showNotification('–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
        }

        function saveCategories() {
            localStorage.setItem('categoriesData', JSON.stringify(categoriesData));
            loadCategories();
            closePanel();
            showNotification('–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        }

        // ==================== –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –¢–û–í–ê–†–û–í ====================

        function loadProductsEditor() {
            const panelContent = document.getElementById('productsPanelContent');
            
            panelContent.innerHTML = `
                <h3>üõçÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h3>
                
                <div class="form-group">
                    <label>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä:</label>
                    <button class="btn btn-primary" onclick="showAddProductForm()" style="width: 100%;">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                    </button>
                </div>

                <div class="form-group">
                    <label>–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞:</label>
                    <input type="text" class="form-control" id="productSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." 
                           onkeyup="filterProductsInEditor()">
                </div>

                <div class="categories-list" style="max-height: 400px;">
                    <h4>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (${products.length}):</h4>
                    <div id="productsEditorList">
                        ${products.map((product, index) => `
                            <div class="category-editor-item product-editor-item">
                                <div class="category-header">
                                    <h4>${product.name}</h4>
                                    <div>
                                        <button class="btn btn-sm btn-outline" onclick="editProduct(${index})">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-danger" onclick="deleteProduct(${index})">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 80px 1fr; gap: 15px; align-items: start;">
                                    <img src="${product.image}" alt="${product.name}" 
                                         style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
                                         onerror="this.src='https://via.placeholder.com/80x80/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'">
                                    <div>
                                        <div><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${product.category}</div>
                                        <div><strong>–¶–µ–Ω–∞:</strong> ${product.price} ‚ÇΩ</div>
                                        <div><strong>–ù–∞–ª–∏—á–∏–µ:</strong> ${product.quantity} —à—Ç.</div>
                                        <div><strong>–°—Ç–∞—Ç—É—Å:</strong> ${getProductStatusText(product.status)}</div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function getProductStatusText(status) {
            const statuses = {
                'in_stock': '–í –Ω–∞–ª–∏—á–∏–∏',
                'out_of_stock': '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏',
                'pre_order': '–ü–æ–¥ –∑–∞–∫–∞–∑'
            };
            return statuses[status] || status;
        }

        function filterProductsInEditor() {
            const searchTerm = document.getElementById('productSearch').value.toLowerCase();
            const productItems = document.querySelectorAll('.product-editor-item');
            
            productItems.forEach(item => {
                const productName = item.querySelector('h4').textContent.toLowerCase();
                if (productName.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function showAddProductForm() {
            const panelContent = document.getElementById('productsPanelContent');
            panelContent.innerHTML = `
                <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h3>
                
                <form id="addProductForm">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
                        <input type="text" class="form-control" name="name" required placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
                    </div>

                    <div class="form-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select class="form-control" name="category" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            ${categoriesData.map(cat => `<option value="${cat.name}">${cat.name}</option>`).join('')}
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–¶–µ–Ω–∞ (—Ä—É–±.):</label>
                        <input type="number" class="form-control" name="price" required min="0" placeholder="0">
                    </div>

                    <div class="form-group">
                        <label>–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (—Ä—É–±., –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                        <input type="number" class="form-control" name="oldPrice" min="0" placeholder="0">
                    </div>

                    <div class="form-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ:</label>
                        <input type="number" class="form-control" name="quantity" required min="0" placeholder="0">
                    </div>

                    <div class="form-group">
                        <label>–°—Ç–∞—Ç—É—Å —Ç–æ–≤–∞—Ä–∞:</label>
                        <select class="form-control" name="status" required>
                            <option value="in_stock">–í –Ω–∞–ª–∏—á–∏–∏</option>
                            <option value="out_of_stock">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</option>
                            <option value="pre_order">–ü–æ–¥ –∑–∞–∫–∞–∑</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
                        <textarea class="form-control" name="description" rows="4" required placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞"></textarea>
                    </div>

                    <div class="form-group">
                        <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
                        <input type="url" class="form-control" name="image" placeholder="https://example.com/image.jpg">
                        <small style="color: var(--gray);">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è placeholder</small>
                    </div>

                    <div class="panel-actions">
                        <button type="button" class="btn btn-outline" onclick="loadProductsEditor()">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä
                        </button>
                    </div>
                </form>
            `;

            document.getElementById('addProductForm').addEventListener('submit', function(e) {
                e.preventDefault();
                addNewProduct(this);
            });
        }

        function addNewProduct(form) {
            const formData = new FormData(form);
            const productImage = formData.get('image')?.trim();
            
            const product = {
                id: Date.now(),
                name: formData.get('name'),
                category: formData.get('category'),
                price: parseInt(formData.get('price')),
                oldPrice: formData.get('oldPrice') ? parseInt(formData.get('oldPrice')) : null,
                quantity: parseInt(formData.get('quantity')),
                status: formData.get('status'),
                description: formData.get('description'),
                image: productImage && productImage !== '' 
                    ? productImage 
                    : 'https://via.placeholder.com/300x200/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'
            };

            products.push(product);
            localStorage.setItem('products', JSON.stringify(products));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            filteredProducts = [...products];
            loadProducts();
            updateCategoryFilter();
            
            showNotification('–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
            loadProductsEditor();
        }

        function editProduct(index) {
            const product = products[index];
            const panelContent = document.getElementById('productsPanelContent');
            
            panelContent.innerHTML = `
                <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h3>
                
                <form id="editProductForm">
                    <input type="hidden" name="index" value="${index}">
                    
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
                        <input type="text" class="form-control" name="name" value="${product.name}" required>
                    </div>

                    <div class="form-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select class="form-control" name="category" required>
                            ${categoriesData.map(cat => `
                                <option value="${cat.name}" ${cat.name === product.category ? 'selected' : ''}>${cat.name}</option>
                            `).join('')}
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–¶–µ–Ω–∞ (—Ä—É–±.):</label>
                        <input type="number" class="form-control" name="price" value="${product.price}" required min="0">
                    </div>

                    <div class="form-group">
                        <label>–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (—Ä—É–±.):</label>
                        <input type="number" class="form-control" name="oldPrice" value="${product.oldPrice || ''}" min="0" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ—Ç —Å–∫–∏–¥–∫–∏">
                    </div>

                    <div class="form-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ:</label>
                        <input type="number" class="form-control" name="quantity" value="${product.quantity}" required min="0">
                    </div>

                    <div class="form-group">
                        <label>–°—Ç–∞—Ç—É—Å —Ç–æ–≤–∞—Ä–∞:</label>
                        <select class="form-control" name="status" required>
                            <option value="in_stock" ${product.status === 'in_stock' ? 'selected' : ''}>–í –Ω–∞–ª–∏—á–∏–∏</option>
                            <option value="out_of_stock" ${product.status === 'out_of_stock' ? 'selected' : ''}>–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</option>
                            <option value="pre_order" ${product.status === 'pre_order' ? 'selected' : ''}>–ü–æ–¥ –∑–∞–∫–∞–∑</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
                        <textarea class="form-control" name="description" rows="4" required>${product.description}</textarea>
                    </div>

                    <div class="form-group">
                        <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
                        <input type="url" class="form-control" name="image" value="${product.image}" placeholder="https://example.com/image.jpg">
                    </div>

                    <div class="panel-actions">
                        <button type="button" class="btn btn-outline" onclick="loadProductsEditor()">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                        </button>
                    </div>
                </form>
            `;

            document.getElementById('editProductForm').addEventListener('submit', function(e) {
                e.preventDefault();
                updateProduct(this);
            });
        }

        function updateProduct(form) {
            const formData = new FormData(form);
            const index = parseInt(formData.get('index'));
            
            products[index] = {
                ...products[index],
                name: formData.get('name'),
                category: formData.get('category'),
                price: parseInt(formData.get('price')),
                oldPrice: formData.get('oldPrice') ? parseInt(formData.get('oldPrice')) : null,
                quantity: parseInt(formData.get('quantity')),
                status: formData.get('status'),
                description: formData.get('description'),
                image: formData.get('image') || products[index].image
            };

            localStorage.setItem('products', JSON.stringify(products));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            filteredProducts = [...products];
            loadProducts();
            updateCategoryFilter();
            
            showNotification('–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!');
            loadProductsEditor();
        }

        function deleteProduct(index) {
            if (confirm(`–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä "${products[index].name}"?`)) {
                products.splice(index, 1);
                localStorage.setItem('products', JSON.stringify(products));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                filteredProducts = [...products];
                loadProducts();
                updateCategoryFilter();
                
                showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω!');
                loadProductsEditor();
            }
        }

        // ==================== –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ó–ê–ö–ê–ó–ê–ú–ò ====================

        function loadAllOrders() {
            // –°–æ–±–∏—Ä–∞–µ–º –∑–∞–∫–∞–∑—ã –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            const allOrders = [];
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ localStorage
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.startsWith('currentUser_') || key === 'currentUser') {
                    const user = JSON.parse(localStorage.getItem(key));
                    if (user.orders && user.orders.length > 0) {
                        user.orders.forEach(order => {
                            order.customerEmail = user.email;
                            order.customerName = user.name;
                            allOrders.push(order);
                        });
                    }
                }
            }
            
            const ordersList = document.getElementById('allOrdersList');
            
            if (allOrders.length === 0) {
                ordersList.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 40px;">–ó–∞–∫–∞–∑–æ–≤ –Ω–µ—Ç</p>';
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
            allOrders.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            ordersList.innerHTML = allOrders.map(order => {
                // –û–±—ä–µ–¥–∏–Ω—è–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
                const mergedItems = {};
                order.items.forEach(item => {
                    const key = item.id;
                    if (mergedItems[key]) {
                        mergedItems[key].quantity += item.quantity;
                        mergedItems[key].totalPrice += item.price * item.quantity;
                    } else {
                        mergedItems[key] = {
                            ...item,
                            totalPrice: item.price * item.quantity
                        };
                    }
                });
                
                const mergedItemsArray = Object.values(mergedItems);
                const totalAmount = mergedItemsArray.reduce((sum, item) => sum + item.totalPrice, 0);
                
                return `
                    <div class="category-editor-item">
                        <div class="category-header">
                            <h4>–ó–∞–∫–∞–∑ #${order.id}</h4>
                            <div class="order-status status-${order.status}">${getOrderStatusText(order.status)}</div>
                        </div>
                        
                        <div class="form-group">
                            <label><strong>–ö–ª–∏–µ–Ω—Ç:</strong> ${order.customerName} (${order.customerEmail})</label>
                        </div>
                        
                        <div class="form-group">
                            <label><strong>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞:</strong> ${new Date(order.date).toLocaleString()}</label>
                        </div>
                        
                        <div class="form-group">
                            <label><strong>–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è:</strong> ${order.deliveryType === 'pickup' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞'}</label>
                        </div>
                        
                        ${order.deliveryType === 'delivery' ? `
                            <div class="form-group">
                                <label><strong>–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</strong> ${order.customer.address || '–ù–µ —É–∫–∞–∑–∞–Ω'}</label>
                            </div>
                        ` : ''}
                        
                        <div class="form-group">
                            <label><strong>–¢–æ–≤–∞—Ä—ã:</strong></label>
                            <div style="background: white; border-radius: 8px; padding: 15px; border: 1px solid var(--border);">
                                ${mergedItemsArray.map(item => `
                                    <div style="display: flex; justify-content: between; align-items: center; padding: 8px 0; border-bottom: 1px solid #f0f0f0;">
                                        <div style="flex: 1;">
                                            <strong>${item.name}</strong>
                                            <div style="font-size: 0.9rem; color: var(--gray);">
                                                ${item.price.toLocaleString()} ‚ÇΩ √ó ${item.quantity} —à—Ç. = ${item.totalPrice.toLocaleString()} ‚ÇΩ
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; font-weight: bold; border-top: 2px solid var(--primary);">
                                    <span>–û–±—â–∞—è —Å—É–º–º–∞:</span>
                                    <span>${totalAmount.toLocaleString()} ‚ÇΩ</span>
                                </div>
                            </div>
                        </div>
                        
                        ${order.comments ? `
                            <div class="form-group">
                                <label><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–ª–∏–µ–Ω—Ç–∞:</strong></label>
                                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; border-left: 3px solid var(--primary);">
                                    ${order.comments}
                                </div>
                            </div>
                        ` : ''}
                        
                        <div class="form-group">
                            <label>–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞:</label>
                            <select class="form-control" onchange="updateOrderStatus(${order.id}, this.value)" 
                                    style="max-width: 200px;">
                                <option value="new" ${order.status === 'new' ? 'selected' : ''}>–ù–æ–≤—ã–π</option>
                                <option value="processing" ${order.status === 'processing' ? 'selected' : ''}>–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</option>
                                <option value="delivered" ${order.status === 'delivered' ? 'selected' : ''}>–î–æ—Å—Ç–∞–≤–ª–µ–Ω</option>
                                <option value="cancelled" ${order.status === 'cancelled' ? 'selected' : ''}>–û—Ç–º–µ–Ω–µ–Ω</option>
                            </select>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateOrderStatus(orderId, newStatus) {
            // –ù–∞—Ö–æ–¥–∏–º –∑–∞–∫–∞–∑ –≤–æ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.startsWith('currentUser_') || key === 'currentUser') {
                    const user = JSON.parse(localStorage.getItem(key));
                    if (user.orders) {
                        const orderIndex = user.orders.findIndex(order => order.id === orderId);
                        if (orderIndex !== -1) {
                            user.orders[orderIndex].status = newStatus;
                            localStorage.setItem(key, JSON.stringify(user));
                            showNotification(`–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ #${orderId} –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "${getOrderStatusText(newStatus)}"`);
                            return;
                        }
                    }
                }
            }
        }

        // ==================== –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–û–ó–´–ì–†–´–®–ê–ú–ò ====================

        function loadGiveawayEditor() {
            const giveaway = giveaways[0] || {
                name: '–ì–ª–∞–≤–Ω—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à –º–µ—Å—è—Ü–∞',
                prize: 'iPhone 15 Pro',
                endDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),
                participants: 47,
                status: 'active',
                wheelPrizes: [
                    '–°–∫–∏–¥–∫–∞ 10%',
                    '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞',
                    '–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –º–∞–≥–∞–∑–∏–Ω–∞',
                    '–°–∫–∏–¥–∫–∞ 20%',
                    '–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç 500 —Ä—É–±.',
                    '–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑'
                ]
            };

            document.getElementById('giveawayName').value = giveaway.name;
            document.getElementById('giveawayPrize').value = giveaway.prize;
            document.getElementById('giveawayEndDate').value = giveaway.endDate.slice(0, 16);
            document.getElementById('giveawayStatus').value = giveaway.status;

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏–∑—ã –Ω–∞ –∫–æ–ª–µ—Å–µ
            const wheelPrizesList = document.getElementById('wheelPrizesList');
            wheelPrizesList.innerHTML = giveaway.wheelPrizes.map((prize, index) => `
                <div class="form-group" style="display: flex; gap: 10px; align-items: center;">
                    <input type="text" class="form-control" value="${prize}" 
                           placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–∑–∞" id="wheelPrize${index}">
                    <button class="btn btn-sm btn-danger" onclick="removeWheelPrize(${index})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `).join('');
        }

        function addWheelPrize() {
            const giveaway = giveaways[0];
            giveaway.wheelPrizes.push('–ù–æ–≤—ã–π –ø—Ä–∏–∑');
            loadGiveawayEditor();
        }

        function removeWheelPrize(index) {
            const giveaway = giveaways[0];
            giveaway.wheelPrizes.splice(index, 1);
            loadGiveawayEditor();
        }

        function saveGiveawaySettings() {
            const giveaway = giveaways[0];
            
            giveaway.name = document.getElementById('giveawayName').value;
            giveaway.prize = document.getElementById('giveawayPrize').value;
            giveaway.endDate = document.getElementById('giveawayEndDate').value;
            giveaway.status = document.getElementById('giveawayStatus').value;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∏–∑—ã –Ω–∞ –∫–æ–ª–µ—Å–µ
            giveaway.wheelPrizes = [];
            for (let i = 0; i < 6; i++) {
                const prizeInput = document.getElementById(`wheelPrize${i}`);
                if (prizeInput) {
                    giveaway.wheelPrizes.push(prizeInput.value);
                }
            }
            
            localStorage.setItem('giveaways', JSON.stringify(giveaways));
            loadGiveaways();
            updateWheelSegments();
            closePanel();
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        }

        function updateWheelSegments() {
            const giveaway = giveaways[0];
            if (!giveaway || !giveaway.wheelPrizes) return;
            
            const segments = document.querySelectorAll('.wheel-segment span');
            giveaway.wheelPrizes.forEach((prize, index) => {
                if (segments[index]) {
                    segments[index].textContent = prize;
                }
            });
        }

        // ==================== –ö–û–õ–ï–°–û –§–û–†–¢–£–ù–´ ====================

        function spinWheel() {
            const spinButton = document.getElementById('spinButton');
            const wheel = document.getElementById('giveawayWheel');
            const resultDiv = document.getElementById('wheelResult');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è
            spinButton.disabled = true;
            resultDiv.textContent = '';
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ (–æ—Ç 3 –¥–æ 5 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤ + —Å–ª—É—á–∞–π–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç)
            const segments = 6;
            const extraRotations = 3 + Math.floor(Math.random() * 3); // 3-5 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤
            const winningSegment = Math.floor(Math.random() * segments);
            const degrees = (extraRotations * 360) + (winningSegment * 60) + (Math.random() * 30);
            
            // –í—Ä–∞—â–∞–µ–º –∫–æ–ª–µ—Å–æ
            wheel.style.transform = `rotate(${degrees}deg)`;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
            setTimeout(() => {
                const giveaway = giveaways[0];
                const prize = giveaway.wheelPrizes[winningSegment];
                
                resultDiv.textContent = `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${prize}`;
                spinButton.disabled = false;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—ã–∏–≥—Ä—ã—à–µ
                addNotification('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –≤—ã–∏–≥—Ä—ã—à–µ–º!', `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${prize}`, 'success');
                
                // –î–æ–±–∞–≤–ª—è–µ–º —É—á–∞—Å—Ç–∏–µ –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ
                if (!currentUser.giveawayParticipations.includes(giveaway.id)) {
                    currentUser.giveawayParticipations.push(giveaway.id);
                    giveaway.participants += 1;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    localStorage.setItem('giveaways', JSON.stringify(giveaways));
                    loadGiveaways();
                }
                
                showNotification(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${prize}`);
            }, 4000);
        }

        // ==================== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –°–ê–ô–¢–ê ====================

        function loadCategories() {
            const categoriesGrid = document.getElementById('categoriesGrid');
            categoriesGrid.innerHTML = categoriesData.map(category => {
                let background = '';
                if (category.backgroundType === 'gradient') {
                    background = `linear-gradient(135deg, ${category.color1}, ${category.color2})`;
                } else if (category.backgroundType === 'solid') {
                    background = category.color1;
                } else if (category.backgroundType === 'image' && category.backgroundImage) {
                    background = `url('${category.backgroundImage}')`;
                } else {
                    // Fallback –µ—Å–ª–∏ –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    background = `linear-gradient(135deg, ${category.color1 || '#667eea'}, ${category.color2 || '#764ba2'})`;
                }
                
                return `
                    <div class="category-card" style="background: ${background}" onclick="filterByCategory('${category.name}')">
                        <span class="category-icon">${category.icon}</span>
                        <h3>${category.name}</h3>
                    </div>
                `;
            }).join('');
        }

        function initializeTestProducts() {
    const testProducts = [
        // ========== –ë–´–¢–û–í–ê–Ø –•–ò–ú–ò–Ø - 34 –¢–û–í–ê–†–ê ==========
        {
            id: 100,
            name: 'FAIRY banane - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 10,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ—Å—É–¥—ã. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –ë–∞–Ω–∞–Ω. –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π —Ä–∞—Å—Ö–æ–¥: 2-3 –∫–∞–ø–ª–∏ –Ω–∞ 1 –ª –≤–æ–¥—ã.',
            image: 'https://i.postimg.cc/0ypWMS33/FAIRY-BANANE-5-litrov.jpg'
        },
        {
            id: 101,
            name: 'FAIRY –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 8,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ—Å—É–¥—ã. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –ó–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ. –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π —Ä–∞—Å—Ö–æ–¥: 2-3 –∫–∞–ø–ª–∏ –Ω–∞ 1 –ª –≤–æ–¥—ã.',
            image: 'https://i.postimg.cc/Nj1J9XVn/FAIRY-zelenoe-abloko-5-litrov.jpg'
        },
        {
            id: 102,
            name: 'ASH20 - —á–∏—Å—Ç—è—â–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 12,
            status: 'in_stock',
            description: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —á–∏—Å—Ç—è—â–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –∫—É—Ö–Ω—è, –≤–∞–Ω–Ω–∞—è, —Å–∞–Ω—É–∑–µ–ª, –ø–æ–ª—ã. –†–∞—Å—Ö–æ–¥: 50 –º–ª –Ω–∞ 5 –ª–∏—Ç—Ä–æ–≤ –≤–æ–¥—ã.',
            image: 'https://i.postimg.cc/VkjGrtT3/ASH20-cistasee-sredstvo-5-litrov.jpg'
        },
        {
            id: 103,
            name: 'DOMESTOS - —É–±–∏–≤–∞–µ—Ç –º–∏–∫—Ä–æ–±—ã - –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —á–∏—Å—Ç—è—â–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ. –£–±–∏–≤–∞–µ—Ç 99,9% –º–∏–∫—Ä–æ–±–æ–≤. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç. –†–∞—Å—Ö–æ–¥: 100 –º–ª –Ω–∞ 1 –ª–∏—Ç—Ä –≤–æ–¥—ã.',
            image: 'https://i.postimg.cc/BnxYLFkW/DOMESTOS-ubivaet-mikroby-koncentrat-5-litrov.jpg'
        },
        {
            id: 104,
            name: 'FAIRY - —Ä–æ–∑. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 9,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ—Å—É–¥—ã. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –†–æ–∑–æ–≤—ã–π. –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π —Ä–∞—Å—Ö–æ–¥: 2-3 –∫–∞–ø–ª–∏ –Ω–∞ 1 –ª –≤–æ–¥—ã.',
            image: 'https://i.postimg.cc/q74m8RVY/FAIRY-roz-5-litrov.jpg'
        },
        {
            id: 105,
            name: 'Ariel - gel concentrated - –∑–µ–ª–µ–Ω. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 7,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è —Å—Ç–∏—Ä–∫–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –î–ª—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –∏ –±–µ–ª–æ–≥–æ –±–µ–ª—å—è. –†–∞—Å—Ö–æ–¥: 1 –∫–æ–ª–ø–∞—á–æ–∫ –Ω–∞ 4-5 –∫–≥ –±–µ–ª—å—è.',
            image: 'https://i.postimg.cc/0NPtpQRL/Ariel-gel-concentrated-zelen-5-litrov.jpg'
        },
        {
            id: 106,
            name: 'FAIRY - –ª–∏–º–æ–Ω. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 11,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ—Å—É–¥—ã. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –õ–∏–º–æ–Ω. –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π —Ä–∞—Å—Ö–æ–¥: 2-3 –∫–∞–ø–ª–∏ –Ω–∞ 1 –ª –≤–æ–¥—ã.',
            image: 'https://i.postimg.cc/mrBdQDfv/FAIRY-limon-5-litrov.jpg'
        },
        {
            id: 107,
            name: 'Mr.Proper - —É–±–∏–≤–∞–µ—Ç –º–∏–∫—Ä–æ–±—ã, –ª–∏–º–æ–Ω - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 800,
            oldPrice: null,
            quantity: 8,
            status: 'in_stock',
            description: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —á–∏—Å—Ç—è—â–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ. –£–±–∏–≤–∞–µ—Ç –º–∏–∫—Ä–æ–±—ã. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –õ–∏–º–æ–Ω. –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç.',
            image: 'https://i.postimg.cc/cJ0DQHGy/Mr-Proper-ubivaet-mikroby-zel-5-litrov.jpg'
        },
        {
            id: 108,
            name: '–£—à–∞—Å—Ç—ã–π –Ω—è–Ω—å - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 5,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —Å—Ç–∏—Ä–∫–∏. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ì–∏–ø–æ–∞–ª–ª–µ—Ä–≥–µ–Ω–Ω–æ–µ. –î–ª—è –¥–µ—Ç—Å–∫–æ–≥–æ –±–µ–ª—å—è. –ë–µ–∑ –æ—Ç–¥—É—à–µ–∫.',
            image: 'https://i.postimg.cc/PqT6mxnj/Usastyj-nan-5-litrov.jpg'
        },
        {
            id: 109,
            name: 'Ariel - gel concentrated - –≥–æ–ª—É–±. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è —Å—Ç–∏—Ä–∫–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –î–ª—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –∏ –±–µ–ª–æ–≥–æ –±–µ–ª—å—è. –†–∞—Å—Ö–æ–¥: 1 –∫–æ–ª–ø–∞—á–æ–∫ –Ω–∞ 4-5 –∫–≥ –±–µ–ª—å—è.',
            image: 'https://i.postimg.cc/TPfkrwvR/Ariel-gel-concentrated-golub-5-litrov.jpg'
        },
        {
            id: 110,
            name: 'Ariel - gel concentrated - –±–µ–ª. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 7,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è —Å—Ç–∏—Ä–∫–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –î–ª—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –∏ –±–µ–ª–æ–≥–æ –±–µ–ª—å—è. –†–∞—Å—Ö–æ–¥: 1 –∫–æ–ª–ø–∞—á–æ–∫ –Ω–∞ 4-5 –∫–≥ –±–µ–ª—å—è.',
            image: 'https://i.postimg.cc/vmbPWBwM/Ariel-gel-concentrated-bel-5-litrov.jpg'
        },
        {
            id: 111,
            name: 'Nivea - –≥–µ–ª—å –¥–ª—è –¥—É—à–∞ —Å —Ü–µ–Ω–Ω—ã–º –º–∞—Å–ª–æ–º –º–∏–Ω–¥–∞–ª—è - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 4,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è –¥—É—à–∞ —Å —Ü–µ–Ω–Ω—ã–º –º–∞—Å–ª–æ–º –º–∏–Ω–¥–∞–ª—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –£–≤–ª–∞–∂–Ω—è—é—â–∏–π —É—Ö–æ–¥. –î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.',
            image: 'https://i.postimg.cc/CKSvj1pw/Nivea-s-cennym-maslom-mendala-gel-dla-dusa-5-litrov.jpg'
        },
        {
            id: 112,
            name: 'Axe –≥–µ–ª—å –¥–ª—è –¥—É—à–∞ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è –¥—É—à–∞. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –°—Ç–æ–π–∫–∏–π –º—É–∂—Å–∫–æ–π –∞—Ä–æ–º–∞—Ç. –û—Å–≤–µ–∂–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç. –†–∞—Å—Ö–æ–¥: 5-7 –º–ª –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.',
            image: 'https://i.postimg.cc/jjt8z5YC/Axe-hot-fever-koncentrat-5-litrov.jpg'
        },
        {
            id: 113,
            name: 'Persil power gel- –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 8,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç –¥–ª—è —Å—Ç–∏—Ä–∫–∏. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ú–æ—â–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—è—Ç–µ–Ω. –ó–∞—â–∏—Ç–∞ —Ü–≤–µ—Ç–æ–≤. –î–ª—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –∏ —á–µ—Ä–Ω–æ–≥–æ –±–µ–ª—å—è.',
            image: 'https://i.postimg.cc/YSMX19BW/Persil-power-gel-koncentrat-5-litrov.jpg'
        },
        {
            id: 114,
            name: 'Persil color gel- –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 7,
            status: 'in_stock',
            description: '–ì–µ–ª—å-–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç –¥–ª—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ó–∞—â–∏—Ç–∞ —Ü–≤–µ—Ç–∞. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —è—Ä–∫–æ—Å—Ç—å —Ç–∫–∞–Ω–µ–π.',
            image: 'https://i.postimg.cc/zf8dnBYb/Persil-color-gel-koncentrat-5-litrov.jpg'
        },
        {
            id: 115,
            name: 'Persil sensitive gel- –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 5,
            status: 'in_stock',
            description: '–ì–µ–ª—å-–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–∂–∏. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ì–∏–ø–æ–∞–ª–ª–µ—Ä–≥–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞. –ë–µ–∑ –æ—Ç–¥—É—à–µ–∫.',
            image: 'https://i.postimg.cc/43s8zdRh/Persil-sensitive-gel-koncentrat-5-litrov.jpg'
        },
        {
            id: 116,
            name: 'Persil universal gel- –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 9,
            status: 'in_stock',
            description: '–ì–µ–ª—å-–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –±–µ–ª—å—è. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ.',
            image: 'https://i.postimg.cc/N0DdbcQF/Persil-universal-gel-koncentrat-5-litrov.jpg'
        },
        {
            id: 117,
            name: '–õ–∞—Å–∫–∞ - –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç —É–Ω–∏–≤–µ—Ä. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ë–µ—Ä–µ–∂–Ω—ã–π —É—Ö–æ–¥. –î–ª—è –≤—Å–µ–π —Å–µ–º—å–∏. –†–∞—Å—Ö–æ–¥: 0,5 –∫–æ–ª–ø–∞—á–∫–∞ –Ω–∞ 5 –∫–≥ –±–µ–ª—å—è.',
            image: 'https://i.postimg.cc/tgkBDj9n/Laska-koncentrat-univer-5-litrov.jpg'
        },
        {
            id: 118,
            name: 'Tide - –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 8,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç –¥–ª—è —Å—Ç–∏—Ä–∫–∏. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ì–ª—É–±–æ–∫–∞—è –æ—á–∏—Å—Ç–∫–∞. –î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç–∫–∞–Ω–µ–π. –°–≤–µ–∂–µ—Å—Ç—å.',
            image: 'https://i.postimg.cc/yNjLnH7D/Tide-koncentrat-5-litrov.jpg'
        },
        {
            id: 119,
            name: 'Palmolive - –∂–∏–¥–∫–æ–µ –º—ã–ª–æ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 10,
            status: 'in_stock',
            description: '–ñ–∏–¥–∫–æ–µ –º—ã–ª–æ. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ù–µ–∂–Ω—ã–π —É—Ö–æ–¥ –∑–∞ –∫–æ–∂–µ–π. –£–≤–ª–∞–∂–Ω—è—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç. –†–∞—Å—Ö–æ–¥: 2-3 –º–ª –Ω–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ.',
            image: 'https://i.postimg.cc/s2mTKr35/Palmolive-zidkoe-mylo-5-litrov.jpg'
        },
        {
            id: 120,
            name: '–õ–∞—Å–∫–∞ - –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç —á–µ—Ä–Ω. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 5,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç –¥–ª—è —á–µ—Ä–Ω–æ–≥–æ –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã —Ü–≤–µ—Ç–∞. –î–ª—è —Ç–µ–º–Ω—ã—Ö —Ç–∫–∞–Ω–µ–π.',
            image: 'https://i.postimg.cc/HLz63gT2/Laska-koncentrat-cern-5-litrov.jpg'
        },
        {
            id: 121,
            name: '–õ–∞—Å–∫–∞ - –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç —Ä–æ–∑. - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 7,
            status: 'in_stock',
            description: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç –¥–ª—è —Å—Ç–∏—Ä–∫–∏. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ë–µ—Ä–µ–∂–Ω—ã–π —É—Ö–æ–¥. –î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç–∫–∞–Ω–µ–π. –°–≤–µ–∂–µ—Å—Ç—å.',
            image: 'https://i.postimg.cc/8C4ZwSTm/Laska-koncentrat-roz-5-litrov.jpg'
        },
        {
            id: 122,
            name: 'Nivea - —Å–≤–µ–∂–µ—Å—Ç—å –≥—É–∞–≤—ã - –≥–µ–ª—å –¥–ª—è –¥—É—à–∞ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 4,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è –¥—É—à–∞ –°–≤–µ–∂–µ—Å—Ç—å –≥—É–∞–≤—ã. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∞—è —Å–≤–µ–∂–µ—Å—Ç—å. –£–≤–ª–∞–∂–Ω—è—é—â–∏–π —É—Ö–æ–¥.',
            image: 'https://i.postimg.cc/KYf0Q2mk/Nivea-svezest-guavy-gel-dla-dusa-5-litrov.jpg'
        },
        {
            id: 123,
            name: 'Camay france - –∂–∏–¥–∫–æ–µ –º—ã–ª–æ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 3,
            status: 'in_stock',
            description: '–ñ–∏–¥–∫–æ–µ –º—ã–ª–æ. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∞—Ä–æ–º–∞—Ç. –ù–µ–∂–Ω—ã–π —É—Ö–æ–¥. –ö—Ä–µ–º–æ–≤–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞.',
            image: 'https://i.postimg.cc/ZqHwjSJf/Camay-france-zidkoe-mylo-5-litrov.jpg'
        },
        {
            id: 124,
            name: 'Yellow banana - –∂–∏–¥–∫–æ–µ –º—ã–ª–æ - –º—è–≥–∫–∏–µ —Ä—É–∫–∏ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–ñ–∏–¥–∫–æ–µ –º—ã–ª–æ –ú—è–≥–∫–∏–µ —Ä—É–∫–∏. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç —Å–ø–µ–ª–æ–≥–æ –±–∞–Ω–∞–Ω–∞. –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ —É–≤–ª–∞–∂–Ω–µ–Ω–∏–µ.',
            image: 'https://i.postimg.cc/HxLBhhLz/Yellow-banana-zidkoe-mylo-magkie-ruki-5-litrov.jpg'
        },
        {
            id: 125,
            name: 'Invictus legend - paco rabanne - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 4,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è –¥—É—à–∞ Invictus Legend. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –º—É–∂—Å–∫–æ–π –∞—Ä–æ–º–∞—Ç. –°—Ç–æ–π–∫–æ—Å—Ç—å. –î–ª—è –º—É–∂—á–∏–Ω.',
            image: 'https://i.postimg.cc/5tgspVfk/Invictus-legend-paca-rabanne-5-litrov.jpg'
        },
        {
            id: 126,
            name: 'GlissKur –≥–µ–ª—å –¥–ª—è –¥—É—à–∞ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π PH - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 5,
            status: 'in_stock',
            description: '–ì–µ–ª—å –¥–ª—è –¥—É—à–∞ —Å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º pH. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π pH 5.5. –î–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–∂–∏.',
            image: 'https://i.postimg.cc/XvLsxbns/Gliss-Kur-gel-dla-dusa-nejtralnyj-PH-5-litrov.jpg'
        },
        {
            id: 127,
            name: 'Dove - –∫—Ä–µ–º –º—ã–ª–æ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 1000,
            oldPrice: null,
            quantity: 8,
            status: 'in_stock',
            description: '–ö—Ä–µ–º-–º—ã–ª–æ. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –£–≤–ª–∞–∂–Ω—è—é—â–∏–π —É—Ö–æ–¥. –§–æ—Ä–º—É–ª–∞ —Å ¬º —É–≤–ª–∞–∂–Ω—è—é—â–µ–≥–æ –∫—Ä–µ–º–∞. –î–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–∂–∏.',
            image: 'https://i.postimg.cc/1zBvMQyM/Dove-krem-mylo-5-litrov.jpg'
        },
        {
            id: 128,
            name: 'Lenor —Å–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∞—è –≤–µ—Å–Ω–∞ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 7,
            status: 'in_stock',
            description: '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∞—è –≤–µ—Å–Ω–∞. –ü—Ä–∏–¥–∞–µ—Ç –º—è–≥–∫–æ—Å—Ç—å –∏ —Å–≤–µ–∂–µ—Å—Ç—å.',
            image: 'https://i.postimg.cc/G2pq55pX/Lenor-skandinavskaa-vesna-5-litrov.jpg'
        },
        {
            id: 129,
            name: 'Lenor –∂–µ–º—á—É–∂–Ω—ã–π –ø–∏–æ–Ω - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –ñ–µ–º—á—É–∂–Ω—ã–π –ø–∏–æ–Ω. –ò–∑—ã—Å–∫–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ—á–Ω—ã–π –∞—Ä–æ–º–∞—Ç.',
            image: 'https://i.postimg.cc/9MfJnnfn/Lenor-zemcuznyj-pion-5-litrov.jpg'
        },
        {
            id: 130,
            name: 'Lenor –∞–ª—å–ø–∏–π—Å–∫–∏–µ –ª—É–≥–∞ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 5,
            status: 'in_stock',
            description: '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –ê–ª—å–ø–∏–π—Å–∫–∏–µ –ª—É–≥–∞. –°–≤–µ–∂–µ—Å—Ç—å –≥–æ—Ä–Ω—ã—Ö —Ç—Ä–∞–≤.',
            image: 'https://i.postimg.cc/XJvQzzvQ/Lenor-alpijskie-luga-5-litrov.jpg'
        },
        {
            id: 131,
            name: 'Lenor –¥–µ—Ç—Å–∫–∏–π - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 4,
            status: 'in_stock',
            description: '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –±–µ–ª—å—è –î–µ—Ç—Å–∫–∏–π. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ë–µ–∑ –æ—Ç–¥—É—à–µ–∫ –∏ –∫—Ä–∞—Å–∏—Ç–µ–ª–µ–π. –î–ª—è –Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã—Ö.',
            image: 'https://i.postimg.cc/B6vMVVvy/Lenor-detskij-5-litrov.jpg'
        },
        {
            id: 132,
            name: 'Vernel —Å–≤–µ–∂–µ—Å—Ç—å –ª–µ—Ç–Ω–µ–≥–æ —É—Ç—Ä–∞ - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 8,
            status: 'in_stock',
            description: '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –°–≤–µ–∂–µ—Å—Ç—å –ª–µ—Ç–Ω–µ–≥–æ —É—Ç—Ä–∞. –õ–µ–≥–∫–æ—Å—Ç—å –∏ —Å–≤–µ–∂–µ—Å—Ç—å.',
            image: 'https://i.postimg.cc/XJvQzzvR/Vernel-svezest-letnego-utra-5-litrov.jpg'
        },
        {
            id: 133,
            name: 'Vernel –∞—Ä–æ–º–∞—Ç–µ—Ä–∞–ø–∏—è - 5 –ª–∏—Ç—Ä–æ–≤',
            category: '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
            price: 900,
            oldPrice: null,
            quantity: 6,
            status: 'in_stock',
            description: '–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –±–µ–ª—å—è. –û–±—ä–µ–º: 5 –ª–∏—Ç—Ä–æ–≤. –ê—Ä–æ–º–∞—Ç: –ê—Ä–æ–º–∞—Ç–µ—Ä–∞–ø–∏—è. –†–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–π –∞—Ä–æ–º–∞—Ç.',
            image: 'https://i.postimg.cc/gJ0NTT0Q/Vernel-aromoterapia-5-litrov.jpg'
        }

        // –°—Ç–∞—Ä—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
        // –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –±—ã—Ç–æ–≤—É—é —Ö–∏–º–∏—é - —É–¥–∞–ª–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
    ];

    products = testProducts;
    localStorage.setItem('products', JSON.stringify(products));
    filteredProducts = [...products];
}

        function loadProducts() {
            const productsGrid = document.getElementById('productsGrid');
            
            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <h3 style="color: var(--gray); margin-bottom: 20px;">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p style="color: var(--gray);">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</p>
                    </div>
                `;
                return;
            }

            productsGrid.innerHTML = filteredProducts.map(product => {
                const discount = product.oldPrice ? Math.round((1 - product.price / product.oldPrice) * 100) : 0;
                const statusClass = `status-${product.status.replace('_', '-')}`;
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
                const productImage = product.image && product.image.trim() !== '' 
                    ? product.image 
                    : 'https://via.placeholder.com/300x200/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è';
                
                return `
                    <div class="product-card">
                        ${discount > 0 ? `<div class="product-badge">-${discount}%</div>` : ''}
                        <img src="${productImage}" alt="${product.name}" class="product-image" 
                             onerror="this.src='https://via.placeholder.com/300x200/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'"
                             onclick="showProductDetails(${product.id})">
                        <div class="product-info">
                            <div class="product-category">${product.category}</div>
                            <h3 class="product-name" onclick="showProductDetails(${product.id})">${product.name}</h3>
                            <div class="product-description-short">${product.description}</div>
                            
                            <div class="product-price">
                                <span class="current-price">${product.price.toLocaleString()} ‚ÇΩ</span>
                                ${product.oldPrice ? `<span class="old-price">${product.oldPrice.toLocaleString()} ‚ÇΩ</span>` : ''}
                                ${discount > 0 ? `<span class="discount">-${discount}%</span>` : ''}
                            </div>
                            
                            <div class="product-status ${statusClass}">
                                ${getProductStatusText(product.status)}
                            </div>
                            
                            <div class="product-actions">
                                <button class="add-to-cart" onclick="addToCart(${product.id})" 
                                        ${product.status !== 'in_stock' ? 'disabled' : ''}>
                                    <i class="fas fa-shopping-cart"></i>
                                    ${product.status === 'in_stock' ? '–í –∫–æ—Ä–∑–∏–Ω—É' : '–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ'}
                                </button>
                                <button class="details-btn" onclick="showProductDetails(${product.id})">
                                    <i class="fas fa-info"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterByCategory(category) {
            document.getElementById('categoryFilter').value = category;
            filterProducts();
            scrollToProducts();
        }

        function filterProducts() {
            const category = document.getElementById('categoryFilter').value;
            const priceRange = document.getElementById('priceFilter').value;
            
            filteredProducts = products.filter(product => {
                // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                if (category && product.category !== category) return false;
                
                // –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ
                if (priceRange) {
                    const [min, max] = priceRange.split('-').map(Number);
                    if (product.price < min || product.price > max) return false;
                }
                
                return true;
            });
            
            loadProducts();
        }

        function sortProducts() {
            const sortBy = document.getElementById('sortBy').value;
            
            filteredProducts.sort((a, b) => {
                switch (sortBy) {
                    case 'price_asc':
                        return a.price - b.price;
                    case 'price_desc':
                        return b.price - a.price;
                    case 'name':
                        return a.name.localeCompare(b.name);
                    default:
                        return 0;
                }
            });
            
            loadProducts();
        }

        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            if (searchTerm.trim() === '') {
                filteredProducts = [...products];
            } else {
                filteredProducts = products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.description.toLowerCase().includes(searchTerm) ||
                    product.category.toLowerCase().includes(searchTerm)
                );
            }
            
            loadProducts();
        }

        function updateCategoryFilter() {
            const categoryFilter = document.getElementById('categoryFilter');
            const categories = [...new Set(products.map(p => p.category))];
            
            categoryFilter.innerHTML = '<option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>' +
                categories.map(cat => `<option value="${cat}">${cat}</option>`).join('');
        }

        function scrollToProducts() {
            document.getElementById('productsSection').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        // ==================== –ö–û–†–ó–ò–ù–ê –ò –ó–ê–ö–ê–ó–´ ====================

        function initCart() {
            updateCartCount();
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1,
                    cartId: Date.now()
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!');
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }

        function openCart() {
            const modal = document.getElementById('cartModal');
            const cartItems = document.getElementById('cartItems');
            const totalAmount = document.getElementById('totalAmount');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 40px;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
                totalAmount.textContent = '0';
                document.getElementById('checkoutBtn').disabled = true;
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}" 
                             onerror="this.src='https://via.placeholder.com/60x60/ecf0f1/7f8c8d?text=–ù–µ—Ç+—Ñ–æ—Ç–æ'">
                        <div style="flex: 1; margin-left: 15px;">
                            <h4>${item.name}</h4>
                            <div class="product-price">
                                <span class="current-price">${item.price.toLocaleString()} ‚ÇΩ</span>
                                <span style="color: var(--gray);">√ó ${item.quantity}</span>
                            </div>
                        </div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="changeQuantity(${item.cartId}, -1)">-</button>
                            <span style="margin: 0 10px; font-weight: bold;">${item.quantity}</span>
                            <button class="quantity-btn" onclick="changeQuantity(${item.cartId}, 1)">+</button>
                            <button class="btn btn-sm btn-danger" onclick="removeFromCart(${item.cartId})" style="margin-left: 10px;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
                
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                totalAmount.textContent = total.toLocaleString();
                document.getElementById('checkoutBtn').disabled = false;
            }
            
            modal.style.display = 'block';
        }

        function changeQuantity(cartId, delta) {
            const item = cart.find(i => i.cartId === cartId);
            if (!item) return;
            
            item.quantity += delta;
            
            if (item.quantity <= 0) {
                removeFromCart(cartId);
            } else {
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                openCart(); // –ü–µ—Ä–µ–æ—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            }
        }

        function removeFromCart(cartId) {
            cart = cart.filter(item => item.cartId !== cartId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            openCart(); // –ü–µ—Ä–µ–æ—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã');
        }

        function openOrderForm() {
            if (cart.length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
                return;
            }
            
            document.getElementById('cartModal').style.display = 'none';
            document.getElementById('orderModal').style.display = 'block';
        }

        function selectDeliveryOption(type) {
            document.getElementById('deliveryType').value = type;
            
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
            document.querySelectorAll('.delivery-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏
            event.currentTarget.classList.add('selected');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –ø–æ–ª–µ –∞–¥—Ä–µ—Å–∞
            document.getElementById('deliveryAddressField').style.display = 
                type === 'delivery' ? 'block' : 'none';
        }

        // ==================== –î–ï–¢–ê–õ–ò –¢–û–í–ê–†–ê ====================

        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const content = document.getElementById('productDetailsContent');
            const discount = product.oldPrice ? Math.round((1 - product.price / product.oldPrice) * 100) : 0;
            const statusClass = `status-${product.status.replace('_', '-')}`;
            
            content.innerHTML = `
                <div class="product-details">
                    <div>
                        <img src="${product.image}" alt="${product.name}" class="product-details-image"
                             onerror="this.src='https://via.placeholder.com/400x300/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'">
                    </div>
                    <div class="product-details-info">
                        <div class="product-details-category">${product.category}</div>
                        <h2>${product.name}</h2>
                        
                        <div class="product-details-price">
                            ${product.price.toLocaleString()} ‚ÇΩ
                            ${product.oldPrice ? `<span style="font-size: 1.2rem; color: var(--gray); text-decoration: line-through; margin-left: 10px;">
                                ${product.oldPrice.toLocaleString()} ‚ÇΩ
                            </span>` : ''}
                            ${discount > 0 ? `<span class="discount" style="margin-left: 10px;">-${discount}%</span>` : ''}
                        </div>
                        
                        <div class="product-status ${statusClass}" style="display: inline-block;">
                            ${getProductStatusText(product.status)}
                        </div>
                        
                        <p class="product-details-description">${product.description}</p>
                        
                        <div class="product-details-meta">
                            <div class="meta-item">
                                <span class="meta-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
                                <span class="meta-value">${product.category}</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">–ù–∞–ª–∏—á–∏–µ</span>
                                <span class="meta-value">${product.quantity} —à—Ç.</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">–°—Ç–∞—Ç—É—Å</span>
                                <span class="meta-value">${getProductStatusText(product.status)}</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">–î–æ—Å—Ç–∞–≤–∫–∞</span>
                                <span class="meta-value">1-3 –¥–Ω—è</span>
                            </div>
                        </div>
                        
                        <div class="product-actions">
                            <button class="add-to-cart" onclick="addToCart(${product.id})" 
                                    ${product.status !== 'in_stock' ? 'disabled' : ''}
                                    style="flex: 2;">
                                <i class="fas fa-shopping-cart"></i>
                                ${product.status === 'in_stock' ? '–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É' : '–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ'}
                            </button>
                            <button class="details-btn" onclick="closeModals()" style="flex: 1;">
                                –ó–∞–∫—Ä—ã—Ç—å
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('productDetailsModal').style.display = 'block';
        }

        // ==================== –õ–ò–ß–ù–´–ô –ö–ê–ë–ò–ù–ï–¢ ====================

        function openProfile() {
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userEmail').textContent = currentUser.email;
            document.getElementById('userAvatar').textContent = currentUser.avatar;
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            document.getElementById('totalOrders').textContent = currentUser.orders.length;
            document.getElementById('completedOrders').textContent = 
                currentUser.orders.filter(order => order.status === 'delivered').length;
            document.getElementById('totalSpent').textContent = 
                currentUser.orders.reduce((sum, order) => sum + order.total, 0).toLocaleString() + ' ‚ÇΩ';
            document.getElementById('giveawayParticipations').textContent = 
                currentUser.giveawayParticipations.length;
            
            // –ó–∞–∫–∞–∑—ã
            const ordersList = document.getElementById('userOrdersList');
            if (currentUser.orders.length === 0) {
                ordersList.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 40px;">–ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>';
            } else {
                ordersList.innerHTML = currentUser.orders.map(order => `
                    <div class="order-item">
                        <div>
                            <h4>–ó–∞–∫–∞–∑ #${order.id}</h4>
                            <p style="color: var(--gray); font-size: 0.9rem;">${new Date(order.date).toLocaleDateString()}</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: bold; margin-bottom: 5px;">${order.total.toLocaleString()} ‚ÇΩ</div>
                            <div class="order-status status-${order.status}">${getOrderStatusText(order.status)}</div>
                        </div>
                    </div>
                `).join('');
            }
            
            document.getElementById('profileModal').style.display = 'block';
        }

        function getOrderStatusText(status) {
            const statuses = {
                'new': '–ù–æ–≤—ã–π',
                'processing': '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ',
                'delivered': '–î–æ—Å—Ç–∞–≤–ª–µ–Ω',
                'cancelled': '–û—Ç–º–µ–Ω–µ–Ω'
            };
            return statuses[status] || status;
        }

        // ==================== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ====================

        function openNotifications() {
            const notificationsList = document.getElementById('notificationsList');
            
            if (notifications.length === 0) {
                notificationsList.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 40px;">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–µ—Ç</p>';
            } else {
                notificationsList.innerHTML = notifications.map(notification => `
                    <div class="notification-item ${notification.unread ? 'notification-unread' : ''}">
                        <div class="notification-icon" style="background: ${getNotificationColor(notification.type)};">
                            <i class="fas ${getNotificationIcon(notification.type)}"></i>
                        </div>
                        <div class="notification-info">
                            <div class="notification-title">${notification.title}</div>
                            <div class="notification-message">${notification.message}</div>
                            <div class="notification-time">${new Date(notification.date).toLocaleString()}</div>
                        </div>
                    </div>
                `).join('');
            }
            
            document.getElementById('notificationsModal').style.display = 'block';
        }

        function getNotificationColor(type) {
            const colors = {
                'info': '#3498db',
                'success': '#27ae60',
                'warning': '#f39c12',
                'error': '#e74c3c'
            };
            return colors[type] || '#3498db';
        }

        function getNotificationIcon(type) {
            const icons = {
                'info': 'fa-info-circle',
                'success': 'fa-check-circle',
                'warning': 'fa-exclamation-triangle',
                'error': 'fa-times-circle'
            };
            return icons[type] || 'fa-bell';
        }

        function updateNotificationCount() {
            const unreadCount = notifications.filter(n => n.unread).length;
            document.getElementById('notificationCount').textContent = unreadCount;
        }

        function addNotification(title, message, type = 'info') {
            const notification = {
                id: Date.now(),
                title,
                message,
                type,
                date: new Date().toISOString(),
                unread: true
            };
            
            notifications.unshift(notification);
            localStorage.setItem('notifications', JSON.stringify(notifications));
            updateNotificationCount();
        }

        // ==================== –†–û–ó–´–ì–†–´–®–ò ====================

        function loadGiveaways() {
            const giveaway = giveaways[0];
            if (giveaway) {
                document.getElementById('currentGiveawayPrize').textContent = `–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑: ${giveaway.prize}`;
                document.getElementById('participantsCount').textContent = `–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: ${giveaway.participants}`;
            }
        }

        function startGiveawayTimer() {
            const giveaway = giveaways[0];
            if (!giveaway) return;

            function updateTimer() {
                const now = new Date().getTime();
                const endDate = new Date(giveaway.endDate).getTime();
                const timeLeft = endDate - now;

                if (timeLeft < 0) {
                    document.getElementById('giveawayTimer').textContent = '–†–æ–∑—ã–≥—Ä—ã—à –∑–∞–≤–µ—Ä—à–µ–Ω';
                    return;
                }

                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

                document.getElementById('giveawayTimer').textContent = 
                    `–î–æ –∫–æ–Ω—Ü–∞: ${days} –¥–Ω–µ–π ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            updateTimer();
            setInterval(updateTimer, 1000);
        }

        // ==================== –û–¢–ó–´–í–´ ====================

        function loadReviews() {
            const reviewsList = document.getElementById('reviewsList');
            
            if (reviews.length === 0) {
                reviewsList.innerHTML = `
                    <div style="text-align: center; color: var(--gray); padding: 40px;">
                        <h3>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</h3>
                        <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç –æ—Ç–∑—ã–≤!</p>
                    </div>
                `;
            } else {
                reviewsList.innerHTML = reviews.map(review => `
                    <div class="review-card">
                        <div class="review-header">
                            <div class="review-author">${review.author}</div>
                            <div class="review-date">${new Date(review.date).toLocaleDateString()}</div>
                        </div>
                        <div class="review-rating">
                            ${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}
                        </div>
                        <div class="review-text">${review.text}</div>
                    </div>
                `).join('');
            }
        }

        function openReviewModal() {
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –æ—Ç–∑—ã–≤–∞
            const reviewProduct = document.getElementById('reviewProduct');
            reviewProduct.innerHTML = '<option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä --</option>' +
                products.map(product => `<option value="${product.id}">${product.name}</option>`).join('');
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥
            document.querySelectorAll('.star').forEach(star => {
                star.classList.remove('active');
            });
            document.getElementById('reviewRating').value = '';
            document.getElementById('reviewText').value = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∑–≤–µ–∑–¥
            document.querySelectorAll('.star').forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    document.getElementById('reviewRating').value = rating;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–≤–µ–∑–¥
                    document.querySelectorAll('.star').forEach(s => {
                        s.classList.toggle('active', parseInt(s.getAttribute('data-rating')) <= rating);
                    });
                });
            });
            
            document.getElementById('reviewModal').style.display = 'block';
        }

        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function closeModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        window.onclick = function(event) {
            document.querySelectorAll('.modal').forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            if (event.target === document.getElementById('editOverlay')) {
                closePanel();
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
        document.querySelectorAll('.close').forEach(closeBtn => {
            closeBtn.addEventListener('click', closeModals);
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∑–∞–∫–∞–∑–∞
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const customerEmail = this.email.value;
            const customerName = this.name.value;
            
            const order = {
                id: Date.now(),
                date: new Date().toISOString(),
                items: [...cart],
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                status: 'new',
                deliveryType: document.getElementById('deliveryType').value,
                customer: {
                    name: customerName,
                    phone: this.phone.value,
                    email: customerEmail,
                    address: this.address.value
                },
                comments: this.comments.value
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            currentUser.orders.push(order);
            
            // –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userKey = `currentUser_${customerEmail.replace(/[^a-zA-Z0-9]/g, '_')}`;
            localStorage.setItem(userKey, JSON.stringify(currentUser));
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            closeModals();
            showNotification('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –° –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.');
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –æ—Ç–∑—ã–≤–∞
        document.getElementById('reviewForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const productId = parseInt(this.reviewProduct.value);
            const product = products.find(p => p.id === productId);
            
            if (!product) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä');
                return;
            }
            
            const review = {
                id: Date.now(),
                productId: productId,
                productName: product.name,
                author: currentUser.name,
                rating: parseInt(this.rating.value),
                text: this.text.value,
                date: new Date().toISOString()
            };
            
            reviews.push(review);
            localStorage.setItem('reviews', JSON.stringify(reviews));
            
            closeModals();
            loadReviews();
            showNotification('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤!');
        });

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.filterByCategory = filterByCategory;
        window.filterProducts = filterProducts;
        window.searchProducts = searchProducts;
        window.sortProducts = sortProducts;
        window.addToCart = addToCart;
        window.changeQuantity = changeQuantity;
        window.removeFromCart = removeFromCart;
        window.openCart = openCart;
        window.openOrderForm = openOrderForm;
        window.selectDeliveryOption = selectDeliveryOption;
        window.closeModals = closeModals;
        window.showProductDetails = showProductDetails;
        window.openProfile = openProfile;
        window.openNotifications = openNotifications;
        window.openReviewModal = openReviewModal;
        window.spinWheel = spinWheel;
        window.scrollToProducts = scrollToProducts;
        window.updateCategoryBackgroundType = updateCategoryBackgroundType;
        window.uploadCategoryImage = uploadCategoryImage;
        window.toggleConstructor = toggleConstructor;
        window.editBackground = editBackground;
        window.editHeader = editHeader;
        window.editCategories = editCategories;
        window.editProducts = editProducts;
        window.editOrders = editOrders;
        window.editGiveaway = editGiveaway;
        window.saveDesign = saveDesign;
        window.toggleBgType = toggleBgType;
        window.setGradient = setGradient;
        window.uploadBackgroundImage = uploadBackgroundImage;
        window.applyBackground = applyBackground;
        window.loadCategoriesEditor = loadCategoriesEditor;
        window.updateCategory = updateCategory;
        window.removeCategory = removeCategory;
        window.addNewCategory = addNewCategory;
        window.saveCategories = saveCategories;
        window.closePanel = closePanel;
        window.applyHeaderChanges = applyHeaderChanges;
        window.showAddProductForm = showAddProductForm;
        window.editProduct = editProduct;
        window.deleteProduct = deleteProduct;
        window.filterProductsInEditor = filterProductsInEditor;
        window.loadAllOrders = loadAllOrders;
        window.updateOrderStatus = updateOrderStatus;
        window.loadGiveawayEditor = loadGiveawayEditor;
        window.addWheelPrize = addWheelPrize;
        window.removeWheelPrize = removeWheelPrize;
        window.saveGiveawaySettings = saveGiveawaySettings;
    </script>
<!-- –°—Å—ã–ª–∫–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É -->
<div style="position: fixed; top: 10px; right: 10px; z-index: 10000;">
    <button onclick="openAdminPanel()" style="
        background: #e74c3c;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 12px;
    ">–ê–¥–º–∏–Ω–∫–∞</button>
</div>

<!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
<div id="adminPanel" class="modal" style="display: none; z-index: 10001;">
    <div class="modal-content" style="max-width: 95%; width: 95%; height: 90vh;">
        <span class="close" onclick="closeAdminPanel()">&times;</span>
        <h2>‚öôÔ∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
        
        <div style="display: grid; grid-template-columns: 250px 1fr; gap: 20px; height: calc(90vh - 100px);">
            <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                <nav style="display: flex; flex-direction: column; gap: 10px;">
                    <button class="admin-menu-btn active" onclick="showAdminSection('import')">
                        üì• –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤
                    </button>
                    <button class="admin-menu-btn" onclick="showAdminSection('products')">
                        üõçÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
                    </button>
                    <button class="admin-menu-btn" onclick="showAdminSection('categories')">
                        üìÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
                    </button>
                    <button class="admin-menu-btn" onclick="showAdminSection('orders')">
                        üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
                    </button>
                    <button class="admin-menu-btn" onclick="showAdminSection('settings')">
                        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
                    </button>
                </nav>
            </div>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
            <div id="adminContent" style="overflow-y: auto; padding-right: 10px;">
                <!-- –°–µ–∫—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
                <div id="adminImport" class="admin-section">
                    <h3>üì• –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                        <!-- CSV –∏–º–ø–æ—Ä—Ç -->
                        <div class="import-option">
                            <h4>üìÑ –ò–º–ø–æ—Ä—Ç –∏–∑ CSV/Excel</h4>
                            <div class="file-upload" onclick="document.getElementById('csvFile').click()">
                                <i class="fas fa-file-csv" style="font-size: 3rem;"></i>
                                <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV –∏–ª–∏ Excel —Ñ–∞–π–ª</p>
                                <input type="file" id="csvFile" accept=".csv,.xlsx,.xls" style="display: none;" onchange="handleCsvImport(this)">
                            </div>
                            <div style="margin-top: 15px;">
                                <button class="btn btn-outline" onclick="downloadCsvTemplate()">
                                    <i class="fas fa-download"></i> –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω CSV
                                </button>
                            </div>
                        </div>

                        <!-- JSON –∏–º–ø–æ—Ä—Ç -->
                        <div class="import-option">
                            <h4>üî§ –ò–º–ø–æ—Ä—Ç –∏–∑ JSON</h4>
                            <div class="file-upload" onclick="document.getElementById('jsonFile').click()">
                                <i class="fas fa-file-code" style="font-size: 3rem;"></i>
                                <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ JSON —Ñ–∞–π–ª</p>
                                <input type="file" id="jsonFile" accept=".json" style="display: none;" onchange="handleJsonImport(this)">
                            </div>
                            <textarea id="jsonInput" placeholder='–ò–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ JSON –≤—Ä—É—á–Ω—É—é: [{"name":"–¢–æ–≤–∞—Ä", "price":1000, "category":"–ö–∞—Ç–µ–≥–æ—Ä–∏—è"}]' style="width: 100%; height: 120px; margin-top: 15px; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
                            <button class="btn btn-primary" onclick="importFromJsonText()" style="margin-top: 10px; width: 100%;">
                                –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Ç–µ–∫—Å—Ç–∞
                            </button>
                        </div>
                    </div>

                    <!-- –ü—Ä—è–º–æ–π –≤–≤–æ–¥ —Ç–æ–≤–∞—Ä–æ–≤ -->
                    <div class="import-option">
                        <h4>‚úèÔ∏è –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤</h4>
                        <div id="quickAddProducts">
                            <div class="quick-product-form">
                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr auto; gap: 10px; margin-bottom: 10px;">
                                    <input type="text" class="form-control" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞" id="quickName">
                                    <input type="number" class="form-control" placeholder="–¶–µ–Ω–∞" id="quickPrice">
                                    <select class="form-control" id="quickCategory">
                                        <option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</option>
                                    </select>
                                    <input type="number" class="form-control" placeholder="–ö–æ–ª-–≤–æ" id="quickQuantity" value="1">
                                    <select class="form-control" id="quickStatus">
                                        <option value="in_stock">–í –Ω–∞–ª–∏—á–∏–∏</option>
                                        <option value="out_of_stock">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</option>
                                        <option value="pre_order">–ü–æ–¥ –∑–∞–∫–∞–∑</option>
                                    </select>
                                    <button class="btn btn-success" onclick="addQuickProduct()">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–º–ø–æ—Ä—Ç–∞ -->
                    <div id="importPreview" style="display: none; margin-top: 30px;">
                        <h4>üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–º–ø–æ—Ä—Ç–∞</h4>
                        <div id="previewTable" style="background: white; border-radius: 10px; padding: 15px; max-height: 300px; overflow-y: auto;"></div>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-success" onclick="confirmImport()">
                                <i class="fas fa-check"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–º–ø–æ—Ä—Ç
                            </button>
                            <button class="btn btn-danger" onclick="cancelImport()">
                                <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                            </button>
                        </div>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                        <h4>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                            <div class="stat-card">
                                <div class="stat-number" id="totalProductsCount">0</div>
                                <div class="stat-label">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="inStockCount">0</div>
                                <div class="stat-label">–í –Ω–∞–ª–∏—á–∏–∏</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="categoriesCount">0</div>
                                <div class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="totalValue">0 ‚ÇΩ</div>
                                <div class="stat-label">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –î—Ä—É–≥–∏–µ —Å–µ–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∫–∏ -->
                <div id="adminProducts" class="admin-section" style="display: none;">
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ -->
                </div>

                <div id="adminCategories" class="admin-section" style="display: none;">
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
                </div>

                <div id="adminOrders" class="admin-section" style="display: none;">
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ -->
                </div>

                <div id="adminSettings" class="admin-section" style="display: none;">
                    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ -->
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.admin-menu-btn {
    background: none;
    border: none;
    padding: 12px 15px;
    text-align: left;
    cursor: pointer;
    border-radius: 5px;
    transition: all 0.3s ease;
    font-size: 14px;
}

.admin-menu-btn:hover,
.admin-menu-btn.active {
    background: var(--primary);
    color: white;
}

.admin-section {
    display: block;
}

.import-option {
    background: white;
    padding: 20px;
    border-radius: 10px;
    border: 2px dashed var(--border);
}

.import-option:hover {
    border-color: var(--primary);
}

.quick-product-form {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
}

.preview-table {
    width: 100%;
    border-collapse: collapse;
}

.preview-table th,
.preview-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
    font-size: 12px;
}

.preview-table th {
    background: var(--primary);
    color: white;
}

.preview-table tr:nth-child(even) {
    background: #f9f9f9;
}
</style>

<script>
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
let importData = [];
let currentAdminSection = 'import';

// –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
function openAdminPanel() {
    document.getElementById('adminPanel').style.display = 'block';
    loadAdminStatistics();
    loadCategoryOptions();
}

function closeAdminPanel() {
    document.getElementById('adminPanel').style.display = 'none';
}

function showAdminSection(section) {
    // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å–µ–∫—Ü–∏–∏
    document.querySelectorAll('.admin-section').forEach(sec => {
        sec.style.display = 'none';
    });
    
    // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
    document.querySelectorAll('.admin-menu-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
    document.getElementById('admin' + section.charAt(0).toUpperCase() + section.slice(1)).style.display = 'block';
    
    // –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –∫–Ω–æ–ø–∫–µ
    event.target.classList.add('active');
    
    currentAdminSection = section;
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
function loadAdminStatistics() {
    const totalProducts = products.length;
    const inStock = products.filter(p => p.status === 'in_stock').length;
    const categories = [...new Set(products.map(p => p.category))].length;
    const totalValue = products.reduce((sum, p) => sum + (p.price * p.quantity), 0);

    document.getElementById('totalProductsCount').textContent = totalProducts;
    document.getElementById('inStockCount').textContent = inStock;
    document.getElementById('categoriesCount').textContent = categories;
    document.getElementById('totalValue').textContent = totalValue.toLocaleString() + ' ‚ÇΩ';
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
function loadCategoryOptions() {
    const select = document.getElementById('quickCategory');
    const categories = [...new Set(products.map(p => p.category).concat(categoriesData.map(c => c.name)))];
    
    select.innerHTML = '<option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</option>' +
        categories.filter(cat => cat).map(cat => 
            `<option value="${cat}">${cat}</option>`
        ).join('');
}

// –ò–º–ø–æ—Ä—Ç –∏–∑ CSV
function handleCsvImport(input) {
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        const csvData = e.target.result;
        parseCsvData(csvData);
    };
    reader.readAsText(file);
}

function parseCsvData(csvText) {
    const lines = csvText.split('\n');
    const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
    
    importData = [];
    
    for (let i = 1; i < lines.length; i++) {
        if (lines[i].trim() === '') continue;
        
        const values = lines[i].split(',').map(v => v.trim().replace(/"/g, ''));
        const product = {};
        
        headers.forEach((header, index) => {
            if (values[index]) {
                product[header] = values[index];
            }
        });
        
        if (product.name && product.price) {
            // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
            product.price = parseInt(product.price) || 0;
            product.oldPrice = parseInt(product.oldPrice) || null;
            product.quantity = parseInt(product.quantity) || 0;
            product.status = product.status || 'in_stock';
            product.id = product.id || Date.now() + i;
            
            importData.push(product);
        }
    }
    
    showImportPreview();
}

// –ò–º–ø–æ—Ä—Ç –∏–∑ JSON
function handleJsonImport(input) {
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        try {
            importData = JSON.parse(e.target.result);
            showImportPreview();
        } catch (error) {
            alert('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON: ' + error.message);
        }
    };
    reader.readAsText(file);
}

function importFromJsonText() {
    const jsonText = document.getElementById('jsonInput').value;
    if (!jsonText.trim()) {
        alert('–í–≤–µ–¥–∏—Ç–µ JSON –¥–∞–Ω–Ω—ã–µ');
        return;
    }
    
    try {
        importData = JSON.parse(jsonText);
        showImportPreview();
    } catch (error) {
        alert('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON: ' + error.message);
    }
}

// –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–º–ø–æ—Ä—Ç–∞
function showImportPreview() {
    if (importData.length === 0) {
        alert('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞');
        return;
    }
    
    const previewHtml = `
        <p>–ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: <strong>${importData.length}</strong></p>
        <table class="preview-table">
            <thead>
                <tr>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–¶–µ–Ω–∞</th>
                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                    <th>–ö–æ–ª-–≤–æ</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                </tr>
            </thead>
            <tbody>
                ${importData.slice(0, 10).map(product => `
                    <tr>
                        <td>${product.name}</td>
                        <td>${product.price} ‚ÇΩ</td>
                        <td>${product.category || '-'}</td>
                        <td>${product.quantity || 0}</td>
                        <td>${getProductStatusText(product.status)}</td>
                    </tr>
                `).join('')}
            </tbody>
        </table>
        ${importData.length > 10 ? `<p>... –∏ –µ—â–µ ${importData.length - 10} —Ç–æ–≤–∞—Ä–æ–≤</p>` : ''}
    `;
    
    document.getElementById('previewTable').innerHTML = previewHtml;
    document.getElementById('importPreview').style.display = 'block';
}

// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞
function confirmImport() {
    importData.forEach(product => {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ç–æ–≤–∞—Ä —Å —Ç–∞–∫–∏–º ID
        const existingIndex = products.findIndex(p => p.id == product.id);
        
        if (existingIndex !== -1) {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–æ–≤–∞—Ä
            products[existingIndex] = { ...products[existingIndex], ...product };
        } else {
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä
            products.push({
                id: product.id || Date.now() + Math.random(),
                name: product.name,
                category: product.category || '–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
                price: product.price,
                oldPrice: product.oldPrice || null,
                quantity: product.quantity || 0,
                status: product.status || 'in_stock',
                description: product.description || product.name,
                image: product.image || 'https://via.placeholder.com/300x200/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'
            });
        }
    });
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
    localStorage.setItem('products', JSON.stringify(products));
    filteredProducts = [...products];
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    loadProducts();
    updateCategoryFilter();
    loadAdminStatistics();
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–º–ø–æ—Ä—Ç
    cancelImport();
    
    showNotification(`–£—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ ${importData.length} —Ç–æ–≤–∞—Ä–æ–≤!`);
}

function cancelImport() {
    importData = [];
    document.getElementById('importPreview').style.display = 'none';
    document.getElementById('csvFile').value = '';
    document.getElementById('jsonFile').value = '';
    document.getElementById('jsonInput').value = '';
}

// –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
function addQuickProduct() {
    const name = document.getElementById('quickName').value;
    const price = parseInt(document.getElementById('quickPrice').value);
    const category = document.getElementById('quickCategory').value;
    const quantity = parseInt(document.getElementById('quickQuantity').value);
    const status = document.getElementById('quickStatus').value;
    
    if (!name || !price || !category) {
        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è');
        return;
    }
    
    const newProduct = {
        id: Date.now(),
        name: name,
        price: price,
        category: category,
        quantity: quantity,
        status: status,
        description: name,
        image: 'https://via.placeholder.com/300x200/ecf0f1/7f8c8d?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'
    };
    
    products.push(newProduct);
    localStorage.setItem('products', JSON.stringify(products));
    filteredProducts = [...products];
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    loadProducts();
    updateCategoryFilter();
    loadAdminStatistics();
    
    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
    document.getElementById('quickName').value = '';
    document.getElementById('quickPrice').value = '';
    document.getElementById('quickQuantity').value = '1';
    
    showNotification('–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
}

// –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω CSV
function downloadCsvTemplate() {
    const template = `name,price,category,quantity,status,description,oldPrice,image
"FAIRY banane - 5 –ª–∏—Ç—Ä–æ–≤",800,"–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è",10,"in_stock","–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ—Å—É–¥—ã",,"https://example.com/image1.jpg"
"FAIRY –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ - 5 –ª–∏—Ç—Ä–æ–≤",800,"–ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è",8,"in_stock","–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ—Å—É–¥—ã",,"https://example.com/image2.jpg"`;
    
    const blob = new Blob([template], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'products_template.csv';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è Enter –≤ –±—ã—Å—Ç—Ä–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
    document.getElementById('quickName').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addQuickProduct();
        }
    });
});
</script>
</body>

</html>
